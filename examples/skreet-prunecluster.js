var V7=Object.create;var{getPrototypeOf:U7,defineProperty:z9,getOwnPropertyNames:$7}=Object;var W7=Object.prototype.hasOwnProperty;var h9=(U,H,q)=>{q=U!=null?V7(U7(U)):{};const N=H||!U||!U.__esModule?z9(q,"default",{value:U,enumerable:!0}):q;for(let Z of $7(U))if(!W7.call(N,Z))z9(N,Z,{get:()=>U[Z],enumerable:!0});return N};var G7=(U,H)=>()=>(H||U((H={exports:{}}).exports,H),H.exports);var N8=G7((PQ,v9)=>{(function(U,H){typeof PQ==="object"&&typeof v9!=="undefined"?H(PQ):typeof define==="function"&&define.amd?define(["exports"],H):(U=typeof globalThis!=="undefined"?globalThis:U||self,H(U.leaflet={}))})(PQ,function(U){var H="1.9.4";function q(Q){var K,J,Y,X;for(J=1,Y=arguments.length;J<Y;J++){X=arguments[J];for(K in X)Q[K]=X[K]}return Q}var N=Object.create||function(){function Q(){}return function(K){return Q.prototype=K,new Q}}();function Z(Q,K){var J=Array.prototype.slice;if(Q.bind)return Q.bind.apply(Q,J.call(arguments,1));var Y=J.call(arguments,2);return function(){return Q.apply(K,Y.length?Y.concat(J.call(arguments)):arguments)}}var w=0;function A(Q){if(!("_leaflet_id"in Q))Q._leaflet_id=++w;return Q._leaflet_id}function O(Q,K,J){var Y,X,V,$;return $=function(){if(Y=!1,X)V.apply(J,X),X=!1},V=function(){if(Y)X=arguments;else Q.apply(J,arguments),setTimeout($,K),Y=!0},V}function v(Q,K,J){var Y=K[1],X=K[0],V=Y-X;return Q===Y&&J?Q:((Q-X)%V+V)%V+X}function T(){return!1}function x(Q,K){if(K===!1)return Q;var J=Math.pow(10,K===void 0?6:K);return Math.round(Q*J)/J}function V0(Q){return Q.trim?Q.trim():Q.replace(/^\s+|\s+$/g,"")}function U0(Q){return V0(Q).split(/\s+/)}function h(Q,K){if(!Object.prototype.hasOwnProperty.call(Q,"options"))Q.options=Q.options?N(Q.options):{};for(var J in K)Q.options[J]=K[J];return Q.options}function r(Q,K,J){var Y=[];for(var X in Q)Y.push(encodeURIComponent(J?X.toUpperCase():X)+"="+encodeURIComponent(Q[X]));return(!K||K.indexOf("?")===-1?"?":"&")+Y.join("&")}var b0=/\{ *([\w_ -]+) *\}/g;function Z0(Q,K){return Q.replace(b0,function(J,Y){var X=K[Y];if(X===void 0)throw new Error("No value provided for variable "+J);else if(typeof X==="function")X=X(K);return X})}var s=Array.isArray||function(Q){return Object.prototype.toString.call(Q)==="[object Array]"};function g0(Q,K){for(var J=0;J<Q.length;J++)if(Q[J]===K)return J;return-1}var E0="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(Q){return window["webkit"+Q]||window["moz"+Q]||window["ms"+Q]}var b=0;function F(Q){var K=+new Date,J=Math.max(0,16-(K-b));return b=K+J,window.setTimeout(Q,J)}var e=window.requestAnimationFrame||I("RequestAnimationFrame")||F,u=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(Q){window.clearTimeout(Q)};function P(Q,K,J){if(J&&e===F)Q.call(K);else return e.call(window,Z(Q,K))}function m(Q){if(Q)u.call(window,Q)}var u0={__proto__:null,extend:q,create:N,bind:Z,get lastId(){return w},stamp:A,throttle:O,wrapNum:v,falseFn:T,formatNum:x,trim:V0,splitWords:U0,setOptions:h,getParamString:r,template:Z0,isArray:s,indexOf:g0,emptyImageUrl:E0,requestFn:e,cancelFn:u,requestAnimFrame:P,cancelAnimFrame:m};function y(){}y.extend=function(Q){var K=function(){if(h(this),this.initialize)this.initialize.apply(this,arguments);this.callInitHooks()},J=K.__super__=this.prototype,Y=N(J);Y.constructor=K,K.prototype=Y;for(var X in this)if(Object.prototype.hasOwnProperty.call(this,X)&&X!=="prototype"&&X!=="__super__")K[X]=this[X];if(Q.statics)q(K,Q.statics);if(Q.includes)F0(Q.includes),q.apply(null,[Y].concat(Q.includes));if(q(Y,Q),delete Y.statics,delete Y.includes,Y.options)Y.options=J.options?N(J.options):{},q(Y.options,Q.options);return Y._initHooks=[],Y.callInitHooks=function(){if(this._initHooksCalled)return;if(J.callInitHooks)J.callInitHooks.call(this);this._initHooksCalled=!0;for(var V=0,$=Y._initHooks.length;V<$;V++)Y._initHooks[V].call(this)},K},y.include=function(Q){var K=this.prototype.options;if(q(this.prototype,Q),Q.options)this.prototype.options=K,this.mergeOptions(Q.options);return this},y.mergeOptions=function(Q){return q(this.prototype.options,Q),this},y.addInitHook=function(Q){var K=Array.prototype.slice.call(arguments,1),J=typeof Q==="function"?Q:function(){this[Q].apply(this,K)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(J),this};function F0(Q){if(typeof L==="undefined"||!L||!L.Mixin)return;Q=s(Q)?Q:[Q];for(var K=0;K<Q.length;K++)if(Q[K]===L.Mixin.Events)console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}var n={on:function(Q,K,J){if(typeof Q==="object")for(var Y in Q)this._on(Y,Q[Y],K);else{Q=U0(Q);for(var X=0,V=Q.length;X<V;X++)this._on(Q[X],K,J)}return this},off:function(Q,K,J){if(!arguments.length)delete this._events;else if(typeof Q==="object")for(var Y in Q)this._off(Y,Q[Y],K);else{Q=U0(Q);var X=arguments.length===1;for(var V=0,$=Q.length;V<$;V++)if(X)this._off(Q[V]);else this._off(Q[V],K,J)}return this},_on:function(Q,K,J,Y){if(typeof K!=="function"){console.warn("wrong listener type: "+typeof K);return}if(this._listens(Q,K,J)!==!1)return;if(J===this)J=void 0;var X={fn:K,ctx:J};if(Y)X.once=!0;this._events=this._events||{},this._events[Q]=this._events[Q]||[],this._events[Q].push(X)},_off:function(Q,K,J){var Y,X,V;if(!this._events)return;if(Y=this._events[Q],!Y)return;if(arguments.length===1){if(this._firingCount)for(X=0,V=Y.length;X<V;X++)Y[X].fn=T;delete this._events[Q];return}if(typeof K!=="function"){console.warn("wrong listener type: "+typeof K);return}var $=this._listens(Q,K,J);if($!==!1){var W=Y[$];if(this._firingCount)W.fn=T,this._events[Q]=Y=Y.slice();Y.splice($,1)}},fire:function(Q,K,J){if(!this.listens(Q,J))return this;var Y=q({},K,{type:Q,target:this,sourceTarget:K&&K.sourceTarget||this});if(this._events){var X=this._events[Q];if(X){this._firingCount=this._firingCount+1||1;for(var V=0,$=X.length;V<$;V++){var W=X[V],G=W.fn;if(W.once)this.off(Q,G,W.ctx);G.call(W.ctx||this,Y)}this._firingCount--}}if(J)this._propagateEvent(Y);return this},listens:function(Q,K,J,Y){if(typeof Q!=="string")console.warn('"string" type argument expected');var X=K;if(typeof K!=="function")Y=!!K,X=void 0,J=void 0;var V=this._events&&this._events[Q];if(V&&V.length){if(this._listens(Q,X,J)!==!1)return!0}if(Y){for(var $ in this._eventParents)if(this._eventParents[$].listens(Q,K,J,Y))return!0}return!1},_listens:function(Q,K,J){if(!this._events)return!1;var Y=this._events[Q]||[];if(!K)return!!Y.length;if(J===this)J=void 0;for(var X=0,V=Y.length;X<V;X++)if(Y[X].fn===K&&Y[X].ctx===J)return X;return!1},once:function(Q,K,J){if(typeof Q==="object")for(var Y in Q)this._on(Y,Q[Y],K,!0);else{Q=U0(Q);for(var X=0,V=Q.length;X<V;X++)this._on(Q[X],K,J,!0)}return this},addEventParent:function(Q){return this._eventParents=this._eventParents||{},this._eventParents[A(Q)]=Q,this},removeEventParent:function(Q){if(this._eventParents)delete this._eventParents[A(Q)];return this},_propagateEvent:function(Q){for(var K in this._eventParents)this._eventParents[K].fire(Q.type,q({layer:Q.target,propagatedFrom:Q.target},Q),!0)}};n.addEventListener=n.on,n.removeEventListener=n.clearAllEventListeners=n.off,n.addOneTimeEventListener=n.once,n.fireEvent=n.fire,n.hasEventListeners=n.listens;var D0=y.extend(n);function S(Q,K,J){this.x=J?Math.round(Q):Q,this.y=J?Math.round(K):K}var a0=Math.trunc||function(Q){return Q>0?Math.floor(Q):Math.ceil(Q)};S.prototype={clone:function(){return new S(this.x,this.y)},add:function(Q){return this.clone()._add(M(Q))},_add:function(Q){return this.x+=Q.x,this.y+=Q.y,this},subtract:function(Q){return this.clone()._subtract(M(Q))},_subtract:function(Q){return this.x-=Q.x,this.y-=Q.y,this},divideBy:function(Q){return this.clone()._divideBy(Q)},_divideBy:function(Q){return this.x/=Q,this.y/=Q,this},multiplyBy:function(Q){return this.clone()._multiplyBy(Q)},_multiplyBy:function(Q){return this.x*=Q,this.y*=Q,this},scaleBy:function(Q){return new S(this.x*Q.x,this.y*Q.y)},unscaleBy:function(Q){return new S(this.x/Q.x,this.y/Q.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=a0(this.x),this.y=a0(this.y),this},distanceTo:function(Q){Q=M(Q);var K=Q.x-this.x,J=Q.y-this.y;return Math.sqrt(K*K+J*J)},equals:function(Q){return Q=M(Q),Q.x===this.x&&Q.y===this.y},contains:function(Q){return Q=M(Q),Math.abs(Q.x)<=Math.abs(this.x)&&Math.abs(Q.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function M(Q,K,J){if(Q instanceof S)return Q;if(s(Q))return new S(Q[0],Q[1]);if(Q===void 0||Q===null)return Q;if(typeof Q==="object"&&"x"in Q&&"y"in Q)return new S(Q.x,Q.y);return new S(Q,K,J)}function d(Q,K){if(!Q)return;var J=K?[Q,K]:Q;for(var Y=0,X=J.length;Y<X;Y++)this.extend(J[Y])}d.prototype={extend:function(Q){var K,J;if(!Q)return this;if(Q instanceof S||typeof Q[0]==="number"||"x"in Q)K=J=M(Q);else if(Q=K0(Q),K=Q.min,J=Q.max,!K||!J)return this;if(!this.min&&!this.max)this.min=K.clone(),this.max=J.clone();else this.min.x=Math.min(K.x,this.min.x),this.max.x=Math.max(J.x,this.max.x),this.min.y=Math.min(K.y,this.min.y),this.max.y=Math.max(J.y,this.max.y);return this},getCenter:function(Q){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,Q)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(Q){var K,J;if(typeof Q[0]==="number"||Q instanceof S)Q=M(Q);else Q=K0(Q);if(Q instanceof d)K=Q.min,J=Q.max;else K=J=Q;return K.x>=this.min.x&&J.x<=this.max.x&&K.y>=this.min.y&&J.y<=this.max.y},intersects:function(Q){Q=K0(Q);var K=this.min,J=this.max,Y=Q.min,X=Q.max,V=X.x>=K.x&&Y.x<=J.x,$=X.y>=K.y&&Y.y<=J.y;return V&&$},overlaps:function(Q){Q=K0(Q);var K=this.min,J=this.max,Y=Q.min,X=Q.max,V=X.x>K.x&&Y.x<J.x,$=X.y>K.y&&Y.y<J.y;return V&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(Q){var K=this.min,J=this.max,Y=Math.abs(K.x-J.x)*Q,X=Math.abs(K.y-J.y)*Q;return K0(M(K.x-Y,K.y-X),M(J.x+Y,J.y+X))},equals:function(Q){if(!Q)return!1;return Q=K0(Q),this.min.equals(Q.getTopLeft())&&this.max.equals(Q.getBottomRight())}};function K0(Q,K){if(!Q||Q instanceof d)return Q;return new d(Q,K)}function J0(Q,K){if(!Q)return;var J=K?[Q,K]:Q;for(var Y=0,X=J.length;Y<X;Y++)this.extend(J[Y])}J0.prototype={extend:function(Q){var K=this._southWest,J=this._northEast,Y,X;if(Q instanceof c)Y=Q,X=Q;else if(Q instanceof J0){if(Y=Q._southWest,X=Q._northEast,!Y||!X)return this}else return Q?this.extend(k(Q)||l(Q)):this;if(!K&&!J)this._southWest=new c(Y.lat,Y.lng),this._northEast=new c(X.lat,X.lng);else K.lat=Math.min(Y.lat,K.lat),K.lng=Math.min(Y.lng,K.lng),J.lat=Math.max(X.lat,J.lat),J.lng=Math.max(X.lng,J.lng);return this},pad:function(Q){var K=this._southWest,J=this._northEast,Y=Math.abs(K.lat-J.lat)*Q,X=Math.abs(K.lng-J.lng)*Q;return new J0(new c(K.lat-Y,K.lng-X),new c(J.lat+Y,J.lng+X))},getCenter:function(){return new c((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new c(this.getNorth(),this.getWest())},getSouthEast:function(){return new c(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(Q){if(typeof Q[0]==="number"||Q instanceof c||"lat"in Q)Q=k(Q);else Q=l(Q);var K=this._southWest,J=this._northEast,Y,X;if(Q instanceof J0)Y=Q.getSouthWest(),X=Q.getNorthEast();else Y=X=Q;return Y.lat>=K.lat&&X.lat<=J.lat&&Y.lng>=K.lng&&X.lng<=J.lng},intersects:function(Q){Q=l(Q);var K=this._southWest,J=this._northEast,Y=Q.getSouthWest(),X=Q.getNorthEast(),V=X.lat>=K.lat&&Y.lat<=J.lat,$=X.lng>=K.lng&&Y.lng<=J.lng;return V&&$},overlaps:function(Q){Q=l(Q);var K=this._southWest,J=this._northEast,Y=Q.getSouthWest(),X=Q.getNorthEast(),V=X.lat>K.lat&&Y.lat<J.lat,$=X.lng>K.lng&&Y.lng<J.lng;return V&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(Q,K){if(!Q)return!1;return Q=l(Q),this._southWest.equals(Q.getSouthWest(),K)&&this._northEast.equals(Q.getNorthEast(),K)},isValid:function(){return!!(this._southWest&&this._northEast)}};function l(Q,K){if(Q instanceof J0)return Q;return new J0(Q,K)}function c(Q,K,J){if(isNaN(Q)||isNaN(K))throw new Error("Invalid LatLng object: ("+Q+", "+K+")");if(this.lat=+Q,this.lng=+K,J!==void 0)this.alt=+J}c.prototype={equals:function(Q,K){if(!Q)return!1;Q=k(Q);var J=Math.max(Math.abs(this.lat-Q.lat),Math.abs(this.lng-Q.lng));return J<=(K===void 0?0.000000001:K)},toString:function(Q){return"LatLng("+x(this.lat,Q)+", "+x(this.lng,Q)+")"},distanceTo:function(Q){return z0.distance(this,k(Q))},wrap:function(){return z0.wrapLatLng(this)},toBounds:function(Q){var K=180*Q/40075017,J=K/Math.cos(Math.PI/180*this.lat);return l([this.lat-K,this.lng-J],[this.lat+K,this.lng+J])},clone:function(){return new c(this.lat,this.lng,this.alt)}};function k(Q,K,J){if(Q instanceof c)return Q;if(s(Q)&&typeof Q[0]!=="object"){if(Q.length===3)return new c(Q[0],Q[1],Q[2]);if(Q.length===2)return new c(Q[0],Q[1]);return null}if(Q===void 0||Q===null)return Q;if(typeof Q==="object"&&"lat"in Q)return new c(Q.lat,"lng"in Q?Q.lng:Q.lon,Q.alt);if(K===void 0)return null;return new c(Q,K,J)}var T0={latLngToPoint:function(Q,K){var J=this.projection.project(Q),Y=this.scale(K);return this.transformation._transform(J,Y)},pointToLatLng:function(Q,K){var J=this.scale(K),Y=this.transformation.untransform(Q,J);return this.projection.unproject(Y)},project:function(Q){return this.projection.project(Q)},unproject:function(Q){return this.projection.unproject(Q)},scale:function(Q){return 256*Math.pow(2,Q)},zoom:function(Q){return Math.log(Q/256)/Math.LN2},getProjectedBounds:function(Q){if(this.infinite)return null;var K=this.projection.bounds,J=this.scale(Q),Y=this.transformation.transform(K.min,J),X=this.transformation.transform(K.max,J);return new d(Y,X)},infinite:!1,wrapLatLng:function(Q){var K=this.wrapLng?v(Q.lng,this.wrapLng,!0):Q.lng,J=this.wrapLat?v(Q.lat,this.wrapLat,!0):Q.lat,Y=Q.alt;return new c(J,K,Y)},wrapLatLngBounds:function(Q){var K=Q.getCenter(),J=this.wrapLatLng(K),Y=K.lat-J.lat,X=K.lng-J.lng;if(Y===0&&X===0)return Q;var V=Q.getSouthWest(),$=Q.getNorthEast(),W=new c(V.lat-Y,V.lng-X),G=new c($.lat-Y,$.lng-X);return new J0(W,G)}},z0=q({},T0,{wrapLng:[-180,180],R:6371000,distance:function(Q,K){var J=Math.PI/180,Y=Q.lat*J,X=K.lat*J,V=Math.sin((K.lat-Q.lat)*J/2),$=Math.sin((K.lng-Q.lng)*J/2),W=V*V+Math.cos(Y)*Math.cos(X)*$*$,G=2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W));return this.R*G}}),R8=6378137,vQ={R:R8,MAX_LATITUDE:85.0511287798,project:function(Q){var K=Math.PI/180,J=this.MAX_LATITUDE,Y=Math.max(Math.min(J,Q.lat),-J),X=Math.sin(Y*K);return new S(this.R*Q.lng*K,this.R*Math.log((1+X)/(1-X))/2)},unproject:function(Q){var K=180/Math.PI;return new c((2*Math.atan(Math.exp(Q.y/this.R))-Math.PI/2)*K,Q.x*K/this.R)},bounds:function(){var Q=R8*Math.PI;return new d([-Q,-Q],[Q,Q])}()};function LQ(Q,K,J,Y){if(s(Q)){this._a=Q[0],this._b=Q[1],this._c=Q[2],this._d=Q[3];return}this._a=Q,this._b=K,this._c=J,this._d=Y}LQ.prototype={transform:function(Q,K){return this._transform(Q.clone(),K)},_transform:function(Q,K){return K=K||1,Q.x=K*(this._a*Q.x+this._b),Q.y=K*(this._c*Q.y+this._d),Q},untransform:function(Q,K){return K=K||1,new S((Q.x/K-this._b)/this._a,(Q.y/K-this._d)/this._c)}};function n0(Q,K,J,Y){return new LQ(Q,K,J,Y)}var xQ=q({},z0,{code:"EPSG:3857",projection:vQ,transformation:function(){var Q=0.5/(Math.PI*vQ.R);return n0(Q,0.5,-Q,0.5)}()}),x9=q({},xQ,{code:"EPSG:900913"});function F8(Q){return document.createElementNS("http://www.w3.org/2000/svg",Q)}function D8(Q,K){var J="",Y,X,V,$,W,G;for(Y=0,V=Q.length;Y<V;Y++){W=Q[Y];for(X=0,$=W.length;X<$;X++)G=W[X],J+=(X?"L":"M")+G.x+" "+G.y;J+=K?R.svg?"z":"x":""}return J||"M0 0"}var fQ=document.documentElement.style,qQ="ActiveXObject"in window,f9=qQ&&!document.addEventListener,T8="msLaunchUri"in navigator&&!("documentMode"in document),bQ=I0("webkit"),M8=I0("android"),S8=I0("android 2")||I0("android 3"),b9=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),g9=M8&&I0("Google")&&b9<537&&!("AudioNode"in window),gQ=!!window.opera,O8=!T8&&I0("chrome"),B8=I0("gecko")&&!bQ&&!gQ&&!qQ,u9=!O8&&I0("safari"),C8=I0("phantom"),w8="OTransition"in fQ,y9=navigator.platform.indexOf("Win")===0,z8=qQ&&"transition"in fQ,uQ="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!S8,h8="MozPerspective"in fQ,c9=!window.L_DISABLE_3D&&(z8||uQ||h8)&&!w8&&!C8,t0=typeof orientation!=="undefined"||I0("mobile"),m9=t0&&bQ,d9=t0&&uQ,P8=!window.PointerEvent&&window.MSPointerEvent,k8=!!(window.PointerEvent||P8),j8="ontouchstart"in window||!!window.TouchEvent,p9=!window.L_NO_TOUCH&&(j8||k8),l9=t0&&gQ,i9=t0&&B8,r9=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,s9=function(){var Q=!1;try{var K=Object.defineProperty({},"passive",{get:function(){Q=!0}});window.addEventListener("testPassiveEventSupport",T,K),window.removeEventListener("testPassiveEventSupport",T,K)}catch(J){}return Q}(),a9=function(){return!!document.createElement("canvas").getContext}(),yQ=!!(document.createElementNS&&F8("svg").createSVGRect),n9=!!yQ&&function(){var Q=document.createElement("div");return Q.innerHTML="<svg/>",(Q.firstChild&&Q.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),t9=!yQ&&function(){try{var Q=document.createElement("div");Q.innerHTML='<v:shape adj="1"/>';var K=Q.firstChild;return K.style.behavior="url(#default#VML)",K&&typeof K.adj==="object"}catch(J){return!1}}(),o9=navigator.platform.indexOf("Mac")===0,e9=navigator.platform.indexOf("Linux")===0;function I0(Q){return navigator.userAgent.toLowerCase().indexOf(Q)>=0}var R={ie:qQ,ielt9:f9,edge:T8,webkit:bQ,android:M8,android23:S8,androidStock:g9,opera:gQ,chrome:O8,gecko:B8,safari:u9,phantom:C8,opera12:w8,win:y9,ie3d:z8,webkit3d:uQ,gecko3d:h8,any3d:c9,mobile:t0,mobileWebkit:m9,mobileWebkit3d:d9,msPointer:P8,pointer:k8,touch:p9,touchNative:j8,mobileOpera:l9,mobileGecko:i9,retina:r9,passiveEvents:s9,canvas:a9,svg:yQ,vml:t9,inlineSvg:n9,mac:o9,linux:e9},v8=R.msPointer?"MSPointerDown":"pointerdown",L8=R.msPointer?"MSPointerMove":"pointermove",x8=R.msPointer?"MSPointerUp":"pointerup",f8=R.msPointer?"MSPointerCancel":"pointercancel",cQ={touchstart:v8,touchmove:L8,touchend:x8,touchcancel:f8},b8={touchstart:V6,touchmove:HQ,touchend:HQ,touchcancel:HQ},y0={},g8=!1;function Q6(Q,K,J){if(K==="touchstart")X6();if(!b8[K])return console.warn("wrong event specified:",K),T;return J=b8[K].bind(this,J),Q.addEventListener(cQ[K],J,!1),J}function K6(Q,K,J){if(!cQ[K]){console.warn("wrong event specified:",K);return}Q.removeEventListener(cQ[K],J,!1)}function J6(Q){y0[Q.pointerId]=Q}function Y6(Q){if(y0[Q.pointerId])y0[Q.pointerId]=Q}function u8(Q){delete y0[Q.pointerId]}function X6(){if(!g8)document.addEventListener(v8,J6,!0),document.addEventListener(L8,Y6,!0),document.addEventListener(x8,u8,!0),document.addEventListener(f8,u8,!0),g8=!0}function HQ(Q,K){if(K.pointerType===(K.MSPOINTER_TYPE_MOUSE||"mouse"))return;K.touches=[];for(var J in y0)K.touches.push(y0[J]);K.changedTouches=[K],Q(K)}function V6(Q,K){if(K.MSPOINTER_TYPE_TOUCH&&K.pointerType===K.MSPOINTER_TYPE_TOUCH)Y0(K);HQ(Q,K)}function U6(Q){var K={},J,Y;for(Y in Q)J=Q[Y],K[Y]=J&&J.bind?J.bind(Q):J;return Q=K,K.type="dblclick",K.detail=2,K.isTrusted=!1,K._simulated=!0,K}var $6=200;function W6(Q,K){Q.addEventListener("dblclick",K);var J=0,Y;function X(V){if(V.detail!==1){Y=V.detail;return}if(V.pointerType==="mouse"||V.sourceCapabilities&&!V.sourceCapabilities.firesTouchEvents)return;var $=p8(V);if($.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!$.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))return;var W=Date.now();if(W-J<=$6){if(Y++,Y===2)K(U6(V))}else Y=1;J=W}return Q.addEventListener("click",X),{dblclick:K,simDblclick:X}}function G6(Q,K){Q.removeEventListener("dblclick",K.dblclick),Q.removeEventListener("click",K.simDblclick)}var mQ=EQ(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),o0=EQ(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),y8=o0==="webkitTransition"||o0==="OTransition"?o0+"End":"transitionend";function c8(Q){return typeof Q==="string"?document.getElementById(Q):Q}function e0(Q,K){var J=Q.style[K]||Q.currentStyle&&Q.currentStyle[K];if((!J||J==="auto")&&document.defaultView){var Y=document.defaultView.getComputedStyle(Q,null);J=Y?Y[K]:null}return J==="auto"?null:J}function f(Q,K,J){var Y=document.createElement(Q);if(Y.className=K||"",J)J.appendChild(Y);return Y}function i(Q){var K=Q.parentNode;if(K)K.removeChild(Q)}function _Q(Q){while(Q.firstChild)Q.removeChild(Q.firstChild)}function c0(Q){var K=Q.parentNode;if(K&&K.lastChild!==Q)K.appendChild(Q)}function m0(Q){var K=Q.parentNode;if(K&&K.firstChild!==Q)K.insertBefore(Q,K.firstChild)}function dQ(Q,K){if(Q.classList!==void 0)return Q.classList.contains(K);var J=ZQ(Q);return J.length>0&&new RegExp("(^|\\s)"+K+"(\\s|$)").test(J)}function C(Q,K){if(Q.classList!==void 0){var J=U0(K);for(var Y=0,X=J.length;Y<X;Y++)Q.classList.add(J[Y])}else if(!dQ(Q,K)){var V=ZQ(Q);pQ(Q,(V?V+" ":"")+K)}}function a(Q,K){if(Q.classList!==void 0)Q.classList.remove(K);else pQ(Q,V0((" "+ZQ(Q)+" ").replace(" "+K+" "," ")))}function pQ(Q,K){if(Q.className.baseVal===void 0)Q.className=K;else Q.className.baseVal=K}function ZQ(Q){if(Q.correspondingElement)Q=Q.correspondingElement;return Q.className.baseVal===void 0?Q.className:Q.className.baseVal}function W0(Q,K){if("opacity"in Q.style)Q.style.opacity=K;else if("filter"in Q.style)q6(Q,K)}function q6(Q,K){var J=!1,Y="DXImageTransform.Microsoft.Alpha";try{J=Q.filters.item(Y)}catch(X){if(K===1)return}if(K=Math.round(K*100),J)J.Enabled=K!==100,J.Opacity=K;else Q.style.filter+=" progid:"+Y+"(opacity="+K+")"}function EQ(Q){var K=document.documentElement.style;for(var J=0;J<Q.length;J++)if(Q[J]in K)return Q[J];return!1}function k0(Q,K,J){var Y=K||new S(0,0);Q.style[mQ]=(R.ie3d?"translate("+Y.x+"px,"+Y.y+"px)":"translate3d("+Y.x+"px,"+Y.y+"px,0)")+(J?" scale("+J+")":"")}function t(Q,K){if(Q._leaflet_pos=K,R.any3d)k0(Q,K);else Q.style.left=K.x+"px",Q.style.top=K.y+"px"}function j0(Q){return Q._leaflet_pos||new S(0,0)}var QQ,KQ,lQ;if("onselectstart"in document)QQ=function(){B(window,"selectstart",Y0)},KQ=function(){p(window,"selectstart",Y0)};else{var JQ=EQ(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);QQ=function(){if(JQ){var Q=document.documentElement.style;lQ=Q[JQ],Q[JQ]="none"}},KQ=function(){if(JQ)document.documentElement.style[JQ]=lQ,lQ=void 0}}function iQ(){B(window,"dragstart",Y0)}function rQ(){p(window,"dragstart",Y0)}var IQ,sQ;function aQ(Q){while(Q.tabIndex===-1)Q=Q.parentNode;if(!Q.style)return;AQ(),IQ=Q,sQ=Q.style.outlineStyle,Q.style.outlineStyle="none",B(window,"keydown",AQ)}function AQ(){if(!IQ)return;IQ.style.outlineStyle=sQ,IQ=void 0,sQ=void 0,p(window,"keydown",AQ)}function m8(Q){do Q=Q.parentNode;while((!Q.offsetWidth||!Q.offsetHeight)&&Q!==document.body);return Q}function nQ(Q){var K=Q.getBoundingClientRect();return{x:K.width/Q.offsetWidth||1,y:K.height/Q.offsetHeight||1,boundingClientRect:K}}var H6={__proto__:null,TRANSFORM:mQ,TRANSITION:o0,TRANSITION_END:y8,get:c8,getStyle:e0,create:f,remove:i,empty:_Q,toFront:c0,toBack:m0,hasClass:dQ,addClass:C,removeClass:a,setClass:pQ,getClass:ZQ,setOpacity:W0,testProp:EQ,setTransform:k0,setPosition:t,getPosition:j0,get disableTextSelection(){return QQ},get enableTextSelection(){return KQ},disableImageDrag:iQ,enableImageDrag:rQ,preventOutline:aQ,restoreOutline:AQ,getSizedParentNode:m8,getScale:nQ};function B(Q,K,J,Y){if(K&&typeof K==="object")for(var X in K)oQ(Q,X,K[X],J);else{K=U0(K);for(var V=0,$=K.length;V<$;V++)oQ(Q,K[V],J,Y)}return this}var A0="_leaflet_events";function p(Q,K,J,Y){if(arguments.length===1)d8(Q),delete Q[A0];else if(K&&typeof K==="object")for(var X in K)eQ(Q,X,K[X],J);else if(K=U0(K),arguments.length===2)d8(Q,function(W){return g0(K,W)!==-1});else for(var V=0,$=K.length;V<$;V++)eQ(Q,K[V],J,Y);return this}function d8(Q,K){for(var J in Q[A0]){var Y=J.split(/\d/)[0];if(!K||K(Y))eQ(Q,Y,null,null,J)}}var tQ={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function oQ(Q,K,J,Y){var X=K+A(J)+(Y?"_"+A(Y):"");if(Q[A0]&&Q[A0][X])return this;var V=function(W){return J.call(Y||Q,W||window.event)},$=V;if(!R.touchNative&&R.pointer&&K.indexOf("touch")===0)V=Q6(Q,K,V);else if(R.touch&&K==="dblclick")V=W6(Q,V);else if("addEventListener"in Q)if(K==="touchstart"||K==="touchmove"||K==="wheel"||K==="mousewheel")Q.addEventListener(tQ[K]||K,V,R.passiveEvents?{passive:!1}:!1);else if(K==="mouseenter"||K==="mouseleave")V=function(W){if(W=W||window.event,K8(Q,W))$(W)},Q.addEventListener(tQ[K],V,!1);else Q.addEventListener(K,$,!1);else Q.attachEvent("on"+K,V);Q[A0]=Q[A0]||{},Q[A0][X]=V}function eQ(Q,K,J,Y,X){X=X||K+A(J)+(Y?"_"+A(Y):"");var V=Q[A0]&&Q[A0][X];if(!V)return this;if(!R.touchNative&&R.pointer&&K.indexOf("touch")===0)K6(Q,K,V);else if(R.touch&&K==="dblclick")G6(Q,V);else if("removeEventListener"in Q)Q.removeEventListener(tQ[K]||K,V,!1);else Q.detachEvent("on"+K,V);Q[A0][X]=null}function v0(Q){if(Q.stopPropagation)Q.stopPropagation();else if(Q.originalEvent)Q.originalEvent._stopped=!0;else Q.cancelBubble=!0;return this}function Q8(Q){return oQ(Q,"wheel",v0),this}function YQ(Q){return B(Q,"mousedown touchstart dblclick contextmenu",v0),Q._leaflet_disable_click=!0,this}function Y0(Q){if(Q.preventDefault)Q.preventDefault();else Q.returnValue=!1;return this}function L0(Q){return Y0(Q),v0(Q),this}function p8(Q){if(Q.composedPath)return Q.composedPath();var K=[],J=Q.target;while(J)K.push(J),J=J.parentNode;return K}function l8(Q,K){if(!K)return new S(Q.clientX,Q.clientY);var J=nQ(K),Y=J.boundingClientRect;return new S((Q.clientX-Y.left)/J.x-K.clientLeft,(Q.clientY-Y.top)/J.y-K.clientTop)}var _6=R.linux&&R.chrome?window.devicePixelRatio:R.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function i8(Q){return R.edge?Q.wheelDeltaY/2:Q.deltaY&&Q.deltaMode===0?-Q.deltaY/_6:Q.deltaY&&Q.deltaMode===1?-Q.deltaY*20:Q.deltaY&&Q.deltaMode===2?-Q.deltaY*60:Q.deltaX||Q.deltaZ?0:Q.wheelDelta?(Q.wheelDeltaY||Q.wheelDelta)/2:Q.detail&&Math.abs(Q.detail)<32765?-Q.detail*20:Q.detail?Q.detail/-32765*60:0}function K8(Q,K){var J=K.relatedTarget;if(!J)return!0;try{while(J&&J!==Q)J=J.parentNode}catch(Y){return!1}return J!==Q}var Z6={__proto__:null,on:B,off:p,stopPropagation:v0,disableScrollPropagation:Q8,disableClickPropagation:YQ,preventDefault:Y0,stop:L0,getPropagationPath:p8,getMousePosition:l8,getWheelDelta:i8,isExternalTarget:K8,addListener:B,removeListener:p},r8=D0.extend({run:function(Q,K,J,Y){this.stop(),this._el=Q,this._inProgress=!0,this._duration=J||0.25,this._easeOutPower=1/Math.max(Y||0.5,0.2),this._startPos=j0(Q),this._offset=K.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){if(!this._inProgress)return;this._step(!0),this._complete()},_animate:function(){this._animId=P(this._animate,this),this._step()},_step:function(Q){var K=+new Date-this._startTime,J=this._duration*1000;if(K<J)this._runFrame(this._easeOut(K/J),Q);else this._runFrame(1),this._complete()},_runFrame:function(Q,K){var J=this._startPos.add(this._offset.multiplyBy(Q));if(K)J._round();t(this._el,J),this.fire("step")},_complete:function(){m(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(Q){return 1-Math.pow(1-Q,this._easeOutPower)}}),j=D0.extend({options:{crs:xQ,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(Q,K){if(K=h(this,K),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(Q),this._initLayout(),this._onResize=Z(this._onResize,this),this._initEvents(),K.maxBounds)this.setMaxBounds(K.maxBounds);if(K.zoom!==void 0)this._zoom=this._limitZoom(K.zoom);if(K.center&&K.zoom!==void 0)this.setView(k(K.center),K.zoom,{reset:!0});if(this.callInitHooks(),this._zoomAnimated=o0&&R.any3d&&!R.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated)this._createAnimProxy(),B(this._proxy,y8,this._catchTransitionEnd,this);this._addLayers(this.options.layers)},setView:function(Q,K,J){if(K=K===void 0?this._zoom:this._limitZoom(K),Q=this._limitCenter(k(Q),K,this.options.maxBounds),J=J||{},this._stop(),this._loaded&&!J.reset&&J!==!0){if(J.animate!==void 0)J.zoom=q({animate:J.animate},J.zoom),J.pan=q({animate:J.animate,duration:J.duration},J.pan);var Y=this._zoom!==K?this._tryAnimatedZoom&&this._tryAnimatedZoom(Q,K,J.zoom):this._tryAnimatedPan(Q,J.pan);if(Y)return clearTimeout(this._sizeTimer),this}return this._resetView(Q,K,J.pan&&J.pan.noMoveStart),this},setZoom:function(Q,K){if(!this._loaded)return this._zoom=Q,this;return this.setView(this.getCenter(),Q,{zoom:K})},zoomIn:function(Q,K){return Q=Q||(R.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+Q,K)},zoomOut:function(Q,K){return Q=Q||(R.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-Q,K)},setZoomAround:function(Q,K,J){var Y=this.getZoomScale(K),X=this.getSize().divideBy(2),V=Q instanceof S?Q:this.latLngToContainerPoint(Q),$=V.subtract(X).multiplyBy(1-1/Y),W=this.containerPointToLatLng(X.add($));return this.setView(W,K,{zoom:J})},_getBoundsCenterZoom:function(Q,K){K=K||{},Q=Q.getBounds?Q.getBounds():l(Q);var J=M(K.paddingTopLeft||K.padding||[0,0]),Y=M(K.paddingBottomRight||K.padding||[0,0]),X=this.getBoundsZoom(Q,!1,J.add(Y));if(X=typeof K.maxZoom==="number"?Math.min(K.maxZoom,X):X,X===1/0)return{center:Q.getCenter(),zoom:X};var V=Y.subtract(J).divideBy(2),$=this.project(Q.getSouthWest(),X),W=this.project(Q.getNorthEast(),X),G=this.unproject($.add(W).divideBy(2).add(V),X);return{center:G,zoom:X}},fitBounds:function(Q,K){if(Q=l(Q),!Q.isValid())throw new Error("Bounds are not valid.");var J=this._getBoundsCenterZoom(Q,K);return this.setView(J.center,J.zoom,K)},fitWorld:function(Q){return this.fitBounds([[-90,-180],[90,180]],Q)},panTo:function(Q,K){return this.setView(Q,this._zoom,{pan:K})},panBy:function(Q,K){if(Q=M(Q).round(),K=K||{},!Q.x&&!Q.y)return this.fire("moveend");if(K.animate!==!0&&!this.getSize().contains(Q))return this._resetView(this.unproject(this.project(this.getCenter()).add(Q)),this.getZoom()),this;if(!this._panAnim)this._panAnim=new r8,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this);if(!K.noMoveStart)this.fire("movestart");if(K.animate!==!1){C(this._mapPane,"leaflet-pan-anim");var J=this._getMapPanePos().subtract(Q).round();this._panAnim.run(this._mapPane,J,K.duration||0.25,K.easeLinearity)}else this._rawPanBy(Q),this.fire("move").fire("moveend");return this},flyTo:function(Q,K,J){if(J=J||{},J.animate===!1||!R.any3d)return this.setView(Q,K,J);this._stop();var Y=this.project(this.getCenter()),X=this.project(Q),V=this.getSize(),$=this._zoom;Q=k(Q),K=K===void 0?$:K;var W=Math.max(V.x,V.y),G=W*this.getZoomScale($,K),_=X.distanceTo(Y)||1,E=1.42,D=E*E;function z(o){var zQ=o?-1:1,K7=o?G:W,J7=G*G-W*W+zQ*D*D*_*_,Y7=2*K7*D*_,_8=J7/Y7,w9=Math.sqrt(_8*_8+1)-_8,X7=w9<0.000000001?-18:Math.log(w9);return X7}function X0(o){return(Math.exp(o)-Math.exp(-o))/2}function Q0(o){return(Math.exp(o)+Math.exp(-o))/2}function q0(o){return X0(o)/Q0(o)}var $0=z(0);function s0(o){return W*(Q0($0)/Q0($0+E*o))}function t6(o){return W*(Q0($0)*q0($0+E*o)-X0($0))/D}function o6(o){return 1-Math.pow(1-o,1.5)}var e6=Date.now(),B9=(z(1)-$0)/E,Q7=J.duration?1000*J.duration:1000*B9*0.8;function C9(){var o=(Date.now()-e6)/Q7,zQ=o6(o)*B9;if(o<=1)this._flyToFrame=P(C9,this),this._move(this.unproject(Y.add(X.subtract(Y).multiplyBy(t6(zQ)/_)),$),this.getScaleZoom(W/s0(zQ),$),{flyTo:!0});else this._move(Q,K)._moveEnd(!0)}return this._moveStart(!0,J.noMoveStart),C9.call(this),this},flyToBounds:function(Q,K){var J=this._getBoundsCenterZoom(Q,K);return this.flyTo(J.center,J.zoom,K)},setMaxBounds:function(Q){if(Q=l(Q),this.listens("moveend",this._panInsideMaxBounds))this.off("moveend",this._panInsideMaxBounds);if(!Q.isValid())return this.options.maxBounds=null,this;if(this.options.maxBounds=Q,this._loaded)this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(Q){var K=this.options.minZoom;if(this.options.minZoom=Q,this._loaded&&K!==Q){if(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)return this.setZoom(Q)}return this},setMaxZoom:function(Q){var K=this.options.maxZoom;if(this.options.maxZoom=Q,this._loaded&&K!==Q){if(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)return this.setZoom(Q)}return this},panInsideBounds:function(Q,K){this._enforcingBounds=!0;var J=this.getCenter(),Y=this._limitCenter(J,this._zoom,l(Q));if(!J.equals(Y))this.panTo(Y,K);return this._enforcingBounds=!1,this},panInside:function(Q,K){K=K||{};var J=M(K.paddingTopLeft||K.padding||[0,0]),Y=M(K.paddingBottomRight||K.padding||[0,0]),X=this.project(this.getCenter()),V=this.project(Q),$=this.getPixelBounds(),W=K0([$.min.add(J),$.max.subtract(Y)]),G=W.getSize();if(!W.contains(V)){this._enforcingBounds=!0;var _=V.subtract(W.getCenter()),E=W.extend(V).getSize().subtract(G);X.x+=_.x<0?-E.x:E.x,X.y+=_.y<0?-E.y:E.y,this.panTo(this.unproject(X),K),this._enforcingBounds=!1}return this},invalidateSize:function(Q){if(!this._loaded)return this;Q=q({animate:!1,pan:!0},Q===!0?{animate:!0}:Q);var K=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var J=this.getSize(),Y=K.divideBy(2).round(),X=J.divideBy(2).round(),V=Y.subtract(X);if(!V.x&&!V.y)return this;if(Q.animate&&Q.pan)this.panBy(V);else{if(Q.pan)this._rawPanBy(V);if(this.fire("move"),Q.debounceMoveend)clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Z(this.fire,this,"moveend"),200);else this.fire("moveend")}return this.fire("resize",{oldSize:K,newSize:J})},stop:function(){if(this.setZoom(this._limitZoom(this._zoom)),!this.options.zoomSnap)this.fire("viewreset");return this._stop()},locate:function(Q){if(Q=this._locateOptions=q({timeout:1e4,watch:!1},Q),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var K=Z(this._handleGeolocationResponse,this),J=Z(this._handleGeolocationError,this);if(Q.watch)this._locationWatchId=navigator.geolocation.watchPosition(K,J,Q);else navigator.geolocation.getCurrentPosition(K,J,Q);return this},stopLocate:function(){if(navigator.geolocation&&navigator.geolocation.clearWatch)navigator.geolocation.clearWatch(this._locationWatchId);if(this._locateOptions)this._locateOptions.setView=!1;return this},_handleGeolocationError:function(Q){if(!this._container._leaflet_id)return;var K=Q.code,J=Q.message||(K===1?"permission denied":K===2?"position unavailable":"timeout");if(this._locateOptions.setView&&!this._loaded)this.fitWorld();this.fire("locationerror",{code:K,message:"Geolocation error: "+J+"."})},_handleGeolocationResponse:function(Q){if(!this._container._leaflet_id)return;var K=Q.coords.latitude,J=Q.coords.longitude,Y=new c(K,J),X=Y.toBounds(Q.coords.accuracy*2),V=this._locateOptions;if(V.setView){var $=this.getBoundsZoom(X);this.setView(Y,V.maxZoom?Math.min($,V.maxZoom):$)}var W={latlng:Y,bounds:X,timestamp:Q.timestamp};for(var G in Q.coords)if(typeof Q.coords[G]==="number")W[G]=Q.coords[G];this.fire("locationfound",W)},addHandler:function(Q,K){if(!K)return this;var J=this[Q]=new K(this);if(this._handlers.push(J),this.options[Q])J.enable();return this},remove:function(){if(this._initEvents(!0),this.options.maxBounds)this.off("moveend",this._panInsideMaxBounds);if(this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(K){this._container._leaflet_id=void 0,this._containerId=void 0}if(this._locationWatchId!==void 0)this.stopLocate();if(this._stop(),i(this._mapPane),this._clearControlPos)this._clearControlPos();if(this._resizeRequest)m(this._resizeRequest),this._resizeRequest=null;if(this._clearHandlers(),this._loaded)this.fire("unload");var Q;for(Q in this._layers)this._layers[Q].remove();for(Q in this._panes)i(this._panes[Q]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(Q,K){var J="leaflet-pane"+(Q?" leaflet-"+Q.replace("Pane","")+"-pane":""),Y=f("div",J,K||this._mapPane);if(Q)this._panes[Q]=Y;return Y},getCenter:function(){if(this._checkIfLoaded(),this._lastCenter&&!this._moved())return this._lastCenter.clone();return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var Q=this.getPixelBounds(),K=this.unproject(Q.getBottomLeft()),J=this.unproject(Q.getTopRight());return new J0(K,J)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(Q,K,J){Q=l(Q),J=M(J||[0,0]);var Y=this.getZoom()||0,X=this.getMinZoom(),V=this.getMaxZoom(),$=Q.getNorthWest(),W=Q.getSouthEast(),G=this.getSize().subtract(J),_=K0(this.project(W,Y),this.project($,Y)).getSize(),E=R.any3d?this.options.zoomSnap:1,D=G.x/_.x,z=G.y/_.y,X0=K?Math.max(D,z):Math.min(D,z);if(Y=this.getScaleZoom(X0,Y),E)Y=Math.round(Y/(E/100))*(E/100),Y=K?Math.ceil(Y/E)*E:Math.floor(Y/E)*E;return Math.max(X,Math.min(V,Y))},getSize:function(){if(!this._size||this._sizeChanged)this._size=new S(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1;return this._size.clone()},getPixelBounds:function(Q,K){var J=this._getTopLeftPoint(Q,K);return new d(J,J.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(Q){return this.options.crs.getProjectedBounds(Q===void 0?this.getZoom():Q)},getPane:function(Q){return typeof Q==="string"?this._panes[Q]:Q},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(Q,K){var J=this.options.crs;return K=K===void 0?this._zoom:K,J.scale(Q)/J.scale(K)},getScaleZoom:function(Q,K){var J=this.options.crs;K=K===void 0?this._zoom:K;var Y=J.zoom(Q*J.scale(K));return isNaN(Y)?1/0:Y},project:function(Q,K){return K=K===void 0?this._zoom:K,this.options.crs.latLngToPoint(k(Q),K)},unproject:function(Q,K){return K=K===void 0?this._zoom:K,this.options.crs.pointToLatLng(M(Q),K)},layerPointToLatLng:function(Q){var K=M(Q).add(this.getPixelOrigin());return this.unproject(K)},latLngToLayerPoint:function(Q){var K=this.project(k(Q))._round();return K._subtract(this.getPixelOrigin())},wrapLatLng:function(Q){return this.options.crs.wrapLatLng(k(Q))},wrapLatLngBounds:function(Q){return this.options.crs.wrapLatLngBounds(l(Q))},distance:function(Q,K){return this.options.crs.distance(k(Q),k(K))},containerPointToLayerPoint:function(Q){return M(Q).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(Q){return M(Q).add(this._getMapPanePos())},containerPointToLatLng:function(Q){var K=this.containerPointToLayerPoint(M(Q));return this.layerPointToLatLng(K)},latLngToContainerPoint:function(Q){return this.layerPointToContainerPoint(this.latLngToLayerPoint(k(Q)))},mouseEventToContainerPoint:function(Q){return l8(Q,this._container)},mouseEventToLayerPoint:function(Q){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(Q))},mouseEventToLatLng:function(Q){return this.layerPointToLatLng(this.mouseEventToLayerPoint(Q))},_initContainer:function(Q){var K=this._container=c8(Q);if(!K)throw new Error("Map container not found.");else if(K._leaflet_id)throw new Error("Map container is already initialized.");B(K,"scroll",this._onScroll,this),this._containerId=A(K)},_initLayout:function(){var Q=this._container;this._fadeAnimated=this.options.fadeAnimation&&R.any3d,C(Q,"leaflet-container"+(R.touch?" leaflet-touch":"")+(R.retina?" leaflet-retina":"")+(R.ielt9?" leaflet-oldie":"")+(R.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var K=e0(Q,"position");if(K!=="absolute"&&K!=="relative"&&K!=="fixed"&&K!=="sticky")Q.style.position="relative";if(this._initPanes(),this._initControlPos)this._initControlPos()},_initPanes:function(){var Q=this._panes={};if(this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),t(this._mapPane,new S(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),!this.options.markerZoomAnimation)C(Q.markerPane,"leaflet-zoom-hide"),C(Q.shadowPane,"leaflet-zoom-hide")},_resetView:function(Q,K,J){t(this._mapPane,new S(0,0));var Y=!this._loaded;this._loaded=!0,K=this._limitZoom(K),this.fire("viewprereset");var X=this._zoom!==K;if(this._moveStart(X,J)._move(Q,K)._moveEnd(X),this.fire("viewreset"),Y)this.fire("load")},_moveStart:function(Q,K){if(Q)this.fire("zoomstart");if(!K)this.fire("movestart");return this},_move:function(Q,K,J,Y){if(K===void 0)K=this._zoom;var X=this._zoom!==K;if(this._zoom=K,this._lastCenter=Q,this._pixelOrigin=this._getNewPixelOrigin(Q),!Y){if(X||J&&J.pinch)this.fire("zoom",J);this.fire("move",J)}else if(J&&J.pinch)this.fire("zoom",J);return this},_moveEnd:function(Q){if(Q)this.fire("zoomend");return this.fire("moveend")},_stop:function(){if(m(this._flyToFrame),this._panAnim)this._panAnim.stop();return this},_rawPanBy:function(Q){t(this._mapPane,this._getMapPanePos().subtract(Q))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){if(!this._enforcingBounds)this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(Q){this._targets={},this._targets[A(this._container)]=this;var K=Q?p:B;if(K(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize)K(window,"resize",this._onResize,this);if(R.any3d&&this.options.transform3DLimit)(Q?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){m(this._resizeRequest),this._resizeRequest=P(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var Q=this._getMapPanePos();if(Math.max(Math.abs(Q.x),Math.abs(Q.y))>=this.options.transform3DLimit)this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(Q,K){var J=[],Y,X=K==="mouseout"||K==="mouseover",V=Q.target||Q.srcElement,$=!1;while(V){if(Y=this._targets[A(V)],Y&&(K==="click"||K==="preclick")&&this._draggableMoved(Y)){$=!0;break}if(Y&&Y.listens(K,!0)){if(X&&!K8(V,Q))break;if(J.push(Y),X)break}if(V===this._container)break;V=V.parentNode}if(!J.length&&!$&&!X&&this.listens(K,!0))J=[this];return J},_isClickDisabled:function(Q){while(Q&&Q!==this._container){if(Q._leaflet_disable_click)return!0;Q=Q.parentNode}},_handleDOMEvent:function(Q){var K=Q.target||Q.srcElement;if(!this._loaded||K._leaflet_disable_events||Q.type==="click"&&this._isClickDisabled(K))return;var J=Q.type;if(J==="mousedown")aQ(K);this._fireDOMEvent(Q,J)},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(Q,K,J){if(Q.type==="click"){var Y=q({},Q);Y.type="preclick",this._fireDOMEvent(Y,Y.type,J)}var X=this._findEventTargets(Q,K);if(J){var V=[];for(var $=0;$<J.length;$++)if(J[$].listens(K,!0))V.push(J[$]);X=V.concat(X)}if(!X.length)return;if(K==="contextmenu")Y0(Q);var W=X[0],G={originalEvent:Q};if(Q.type!=="keypress"&&Q.type!=="keydown"&&Q.type!=="keyup"){var _=W.getLatLng&&(!W._radius||W._radius<=10);G.containerPoint=_?this.latLngToContainerPoint(W.getLatLng()):this.mouseEventToContainerPoint(Q),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=_?W.getLatLng():this.layerPointToLatLng(G.layerPoint)}for($=0;$<X.length;$++)if(X[$].fire(K,G,!0),G.originalEvent._stopped||X[$].options.bubblingMouseEvents===!1&&g0(this._mouseEvents,K)!==-1)return},_draggableMoved:function(Q){return Q=Q.dragging&&Q.dragging.enabled()?Q:this,Q.dragging&&Q.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var Q=0,K=this._handlers.length;Q<K;Q++)this._handlers[Q].disable()},whenReady:function(Q,K){if(this._loaded)Q.call(K||this,{target:this});else this.on("load",Q,K);return this},_getMapPanePos:function(){return j0(this._mapPane)||new S(0,0)},_moved:function(){var Q=this._getMapPanePos();return Q&&!Q.equals([0,0])},_getTopLeftPoint:function(Q,K){var J=Q&&K!==void 0?this._getNewPixelOrigin(Q,K):this.getPixelOrigin();return J.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(Q,K){var J=this.getSize()._divideBy(2);return this.project(Q,K)._subtract(J)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(Q,K,J){var Y=this._getNewPixelOrigin(J,K);return this.project(Q,K)._subtract(Y)},_latLngBoundsToNewLayerBounds:function(Q,K,J){var Y=this._getNewPixelOrigin(J,K);return K0([this.project(Q.getSouthWest(),K)._subtract(Y),this.project(Q.getNorthWest(),K)._subtract(Y),this.project(Q.getSouthEast(),K)._subtract(Y),this.project(Q.getNorthEast(),K)._subtract(Y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(Q){return this.latLngToLayerPoint(Q).subtract(this._getCenterLayerPoint())},_limitCenter:function(Q,K,J){if(!J)return Q;var Y=this.project(Q,K),X=this.getSize().divideBy(2),V=new d(Y.subtract(X),Y.add(X)),$=this._getBoundsOffset(V,J,K);if(Math.abs($.x)<=1&&Math.abs($.y)<=1)return Q;return this.unproject(Y.add($),K)},_limitOffset:function(Q,K){if(!K)return Q;var J=this.getPixelBounds(),Y=new d(J.min.add(Q),J.max.add(Q));return Q.add(this._getBoundsOffset(Y,K))},_getBoundsOffset:function(Q,K,J){var Y=K0(this.project(K.getNorthEast(),J),this.project(K.getSouthWest(),J)),X=Y.min.subtract(Q.min),V=Y.max.subtract(Q.max),$=this._rebound(X.x,-V.x),W=this._rebound(X.y,-V.y);return new S($,W)},_rebound:function(Q,K){return Q+K>0?Math.round(Q-K)/2:Math.max(0,Math.ceil(Q))-Math.max(0,Math.floor(K))},_limitZoom:function(Q){var K=this.getMinZoom(),J=this.getMaxZoom(),Y=R.any3d?this.options.zoomSnap:1;if(Y)Q=Math.round(Q/Y)*Y;return Math.max(K,Math.min(J,Q))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){a(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(Q,K){var J=this._getCenterOffset(Q)._trunc();if((K&&K.animate)!==!0&&!this.getSize().contains(J))return!1;return this.panBy(J,K),!0},_createAnimProxy:function(){var Q=this._proxy=f("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(Q),this.on("zoomanim",function(K){var J=mQ,Y=this._proxy.style[J];if(k0(this._proxy,this.project(K.center,K.zoom),this.getZoomScale(K.zoom,1)),Y===this._proxy.style[J]&&this._animatingZoom)this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){i(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var Q=this.getCenter(),K=this.getZoom();k0(this._proxy,this.project(Q,K),this.getZoomScale(K,1))},_catchTransitionEnd:function(Q){if(this._animatingZoom&&Q.propertyName.indexOf("transform")>=0)this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(Q,K,J){if(this._animatingZoom)return!0;if(J=J||{},!this._zoomAnimated||J.animate===!1||this._nothingToAnimate()||Math.abs(K-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Y=this.getZoomScale(K),X=this._getCenterOffset(Q)._divideBy(1-1/Y);if(J.animate!==!0&&!this.getSize().contains(X))return!1;return P(function(){this._moveStart(!0,J.noMoveStart||!1)._animateZoom(Q,K,!0)},this),!0},_animateZoom:function(Q,K,J,Y){if(!this._mapPane)return;if(J)this._animatingZoom=!0,this._animateToCenter=Q,this._animateToZoom=K,C(this._mapPane,"leaflet-zoom-anim");if(this.fire("zoomanim",{center:Q,zoom:K,noUpdate:Y}),!this._tempFireZoomEvent)this._tempFireZoomEvent=this._zoom!==this._animateToZoom;this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Z(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){if(!this._animatingZoom)return;if(this._mapPane)a(this._mapPane,"leaflet-zoom-anim");if(this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent)this.fire("zoom");delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0)}});function E6(Q,K){return new j(Q,K)}var H0=y.extend({options:{position:"topright"},initialize:function(Q){h(this,Q)},getPosition:function(){return this.options.position},setPosition:function(Q){var K=this._map;if(K)K.removeControl(this);if(this.options.position=Q,K)K.addControl(this);return this},getContainer:function(){return this._container},addTo:function(Q){this.remove(),this._map=Q;var K=this._container=this.onAdd(Q),J=this.getPosition(),Y=Q._controlCorners[J];if(C(K,"leaflet-control"),J.indexOf("bottom")!==-1)Y.insertBefore(K,Y.firstChild);else Y.appendChild(K);return this._map.on("unload",this.remove,this),this},remove:function(){if(!this._map)return this;if(i(this._container),this.onRemove)this.onRemove(this._map);return this._map.off("unload",this.remove,this),this._map=null,this},_refocusOnMap:function(Q){if(this._map&&Q&&Q.screenX>0&&Q.screenY>0)this._map.getContainer().focus()}}),XQ=function(Q){return new H0(Q)};j.include({addControl:function(Q){return Q.addTo(this),this},removeControl:function(Q){return Q.remove(),this},_initControlPos:function(){var Q=this._controlCorners={},K="leaflet-",J=this._controlContainer=f("div",K+"control-container",this._container);function Y(X,V){var $=K+X+" "+K+V;Q[X+V]=f("div",$,J)}Y("top","left"),Y("top","right"),Y("bottom","left"),Y("bottom","right")},_clearControlPos:function(){for(var Q in this._controlCorners)i(this._controlCorners[Q]);i(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var s8=H0.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(Q,K,J,Y){return J<Y?-1:Y<J?1:0}},initialize:function(Q,K,J){h(this,J),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var Y in Q)this._addLayer(Q[Y],Y);for(Y in K)this._addLayer(K[Y],Y,!0)},onAdd:function(Q){this._initLayout(),this._update(),this._map=Q,Q.on("zoomend",this._checkDisabledLayers,this);for(var K=0;K<this._layers.length;K++)this._layers[K].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(Q){return H0.prototype.addTo.call(this,Q),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var Q=0;Q<this._layers.length;Q++)this._layers[Q].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(Q,K){return this._addLayer(Q,K),this._map?this._update():this},addOverlay:function(Q,K){return this._addLayer(Q,K,!0),this._map?this._update():this},removeLayer:function(Q){Q.off("add remove",this._onLayerChange,this);var K=this._getLayer(A(Q));if(K)this._layers.splice(this._layers.indexOf(K),1);return this._map?this._update():this},expand:function(){C(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var Q=this._map.getSize().y-(this._container.offsetTop+50);if(Q<this._section.clientHeight)C(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=Q+"px";else a(this._section,"leaflet-control-layers-scrollbar");return this._checkDisabledLayers(),this},collapse:function(){return a(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var Q="leaflet-control-layers",K=this._container=f("div",Q),J=this.options.collapsed;K.setAttribute("aria-haspopup",!0),YQ(K),Q8(K);var Y=this._section=f("section",Q+"-list");if(J)this._map.on("click",this.collapse,this),B(K,{mouseenter:this._expandSafely,mouseleave:this.collapse},this);var X=this._layersLink=f("a",Q+"-toggle",K);if(X.href="#",X.title="Layers",X.setAttribute("role","button"),B(X,{keydown:function(V){if(V.keyCode===13)this._expandSafely()},click:function(V){Y0(V),this._expandSafely()}},this),!J)this.expand();this._baseLayersList=f("div",Q+"-base",Y),this._separator=f("div",Q+"-separator",Y),this._overlaysList=f("div",Q+"-overlays",Y),K.appendChild(Y)},_getLayer:function(Q){for(var K=0;K<this._layers.length;K++)if(this._layers[K]&&A(this._layers[K].layer)===Q)return this._layers[K]},_addLayer:function(Q,K,J){if(this._map)Q.on("add remove",this._onLayerChange,this);if(this._layers.push({layer:Q,name:K,overlay:J}),this.options.sortLayers)this._layers.sort(Z(function(Y,X){return this.options.sortFunction(Y.layer,X.layer,Y.name,X.name)},this));if(this.options.autoZIndex&&Q.setZIndex)this._lastZIndex++,Q.setZIndex(this._lastZIndex);this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_Q(this._baseLayersList),_Q(this._overlaysList),this._layerControlInputs=[];var Q,K,J,Y,X=0;for(J=0;J<this._layers.length;J++)Y=this._layers[J],this._addItem(Y),K=K||Y.overlay,Q=Q||!Y.overlay,X+=!Y.overlay?1:0;if(this.options.hideSingleBase)Q=Q&&X>1,this._baseLayersList.style.display=Q?"":"none";return this._separator.style.display=K&&Q?"":"none",this},_onLayerChange:function(Q){if(!this._handlingClick)this._update();var K=this._getLayer(A(Q.target)),J=K.overlay?Q.type==="add"?"overlayadd":"overlayremove":Q.type==="add"?"baselayerchange":null;if(J)this._map.fire(J,K)},_createRadioElement:function(Q,K){var J='<input type="radio" class="leaflet-control-layers-selector" name="'+Q+'"'+(K?' checked="checked"':"")+"/>",Y=document.createElement("div");return Y.innerHTML=J,Y.firstChild},_addItem:function(Q){var K=document.createElement("label"),J=this._map.hasLayer(Q.layer),Y;if(Q.overlay)Y=document.createElement("input"),Y.type="checkbox",Y.className="leaflet-control-layers-selector",Y.defaultChecked=J;else Y=this._createRadioElement("leaflet-base-layers_"+A(this),J);this._layerControlInputs.push(Y),Y.layerId=A(Q.layer),B(Y,"click",this._onInputClick,this);var X=document.createElement("span");X.innerHTML=" "+Q.name;var V=document.createElement("span");K.appendChild(V),V.appendChild(Y),V.appendChild(X);var $=Q.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(K),this._checkDisabledLayers(),K},_onInputClick:function(){if(this._preventClick)return;var Q=this._layerControlInputs,K,J,Y=[],X=[];this._handlingClick=!0;for(var V=Q.length-1;V>=0;V--)if(K=Q[V],J=this._getLayer(K.layerId).layer,K.checked)Y.push(J);else if(!K.checked)X.push(J);for(V=0;V<X.length;V++)if(this._map.hasLayer(X[V]))this._map.removeLayer(X[V]);for(V=0;V<Y.length;V++)if(!this._map.hasLayer(Y[V]))this._map.addLayer(Y[V]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){var Q=this._layerControlInputs,K,J,Y=this._map.getZoom();for(var X=Q.length-1;X>=0;X--)K=Q[X],J=this._getLayer(K.layerId).layer,K.disabled=J.options.minZoom!==void 0&&Y<J.options.minZoom||J.options.maxZoom!==void 0&&Y>J.options.maxZoom},_expandIfNotCollapsed:function(){if(this._map&&!this.options.collapsed)this.expand();return this},_expandSafely:function(){var Q=this._section;this._preventClick=!0,B(Q,"click",Y0),this.expand();var K=this;setTimeout(function(){p(Q,"click",Y0),K._preventClick=!1})}}),I6=function(Q,K,J){return new s8(Q,K,J)},J8=H0.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(Q){var K="leaflet-control-zoom",J=f("div",K+" leaflet-bar"),Y=this.options;return this._zoomInButton=this._createButton(Y.zoomInText,Y.zoomInTitle,K+"-in",J,this._zoomIn),this._zoomOutButton=this._createButton(Y.zoomOutText,Y.zoomOutTitle,K+"-out",J,this._zoomOut),this._updateDisabled(),Q.on("zoomend zoomlevelschange",this._updateDisabled,this),J},onRemove:function(Q){Q.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(Q){if(!this._disabled&&this._map._zoom<this._map.getMaxZoom())this._map.zoomIn(this._map.options.zoomDelta*(Q.shiftKey?3:1))},_zoomOut:function(Q){if(!this._disabled&&this._map._zoom>this._map.getMinZoom())this._map.zoomOut(this._map.options.zoomDelta*(Q.shiftKey?3:1))},_createButton:function(Q,K,J,Y,X){var V=f("a",J,Y);return V.innerHTML=Q,V.href="#",V.title=K,V.setAttribute("role","button"),V.setAttribute("aria-label",K),YQ(V),B(V,"click",L0),B(V,"click",X,this),B(V,"click",this._refocusOnMap,this),V},_updateDisabled:function(){var Q=this._map,K="leaflet-disabled";if(a(this._zoomInButton,K),a(this._zoomOutButton,K),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),this._disabled||Q._zoom===Q.getMinZoom())C(this._zoomOutButton,K),this._zoomOutButton.setAttribute("aria-disabled","true");if(this._disabled||Q._zoom===Q.getMaxZoom())C(this._zoomInButton,K),this._zoomInButton.setAttribute("aria-disabled","true")}});j.mergeOptions({zoomControl:!0}),j.addInitHook(function(){if(this.options.zoomControl)this.zoomControl=new J8,this.addControl(this.zoomControl)});var A6=function(Q){return new J8(Q)},a8=H0.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(Q){var K="leaflet-control-scale",J=f("div",K),Y=this.options;return this._addScales(Y,K+"-line",J),Q.on(Y.updateWhenIdle?"moveend":"move",this._update,this),Q.whenReady(this._update,this),J},onRemove:function(Q){Q.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(Q,K,J){if(Q.metric)this._mScale=f("div",K,J);if(Q.imperial)this._iScale=f("div",K,J)},_update:function(){var Q=this._map,K=Q.getSize().y/2,J=Q.distance(Q.containerPointToLatLng([0,K]),Q.containerPointToLatLng([this.options.maxWidth,K]));this._updateScales(J)},_updateScales:function(Q){if(this.options.metric&&Q)this._updateMetric(Q);if(this.options.imperial&&Q)this._updateImperial(Q)},_updateMetric:function(Q){var K=this._getRoundNum(Q),J=K<1000?K+" m":K/1000+" km";this._updateScale(this._mScale,J,K/Q)},_updateImperial:function(Q){var K=Q*3.2808399,J,Y,X;if(K>5280)J=K/5280,Y=this._getRoundNum(J),this._updateScale(this._iScale,Y+" mi",Y/J);else X=this._getRoundNum(K),this._updateScale(this._iScale,X+" ft",X/K)},_updateScale:function(Q,K,J){Q.style.width=Math.round(this.options.maxWidth*J)+"px",Q.innerHTML=K},_getRoundNum:function(Q){var K=Math.pow(10,(Math.floor(Q)+"").length-1),J=Q/K;return J=J>=10?10:J>=5?5:J>=3?3:J>=2?2:1,K*J}}),N6=function(Q){return new a8(Q)},R6='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Y8=H0.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(R.inlineSvg?R6+" ":"")+"Leaflet</a>"},initialize:function(Q){h(this,Q),this._attributions={}},onAdd:function(Q){Q.attributionControl=this,this._container=f("div","leaflet-control-attribution"),YQ(this._container);for(var K in Q._layers)if(Q._layers[K].getAttribution)this.addAttribution(Q._layers[K].getAttribution());return this._update(),Q.on("layeradd",this._addAttribution,this),this._container},onRemove:function(Q){Q.off("layeradd",this._addAttribution,this)},_addAttribution:function(Q){if(Q.layer.getAttribution)this.addAttribution(Q.layer.getAttribution()),Q.layer.once("remove",function(){this.removeAttribution(Q.layer.getAttribution())},this)},setPrefix:function(Q){return this.options.prefix=Q,this._update(),this},addAttribution:function(Q){if(!Q)return this;if(!this._attributions[Q])this._attributions[Q]=0;return this._attributions[Q]++,this._update(),this},removeAttribution:function(Q){if(!Q)return this;if(this._attributions[Q])this._attributions[Q]--,this._update();return this},_update:function(){if(!this._map)return;var Q=[];for(var K in this._attributions)if(this._attributions[K])Q.push(K);var J=[];if(this.options.prefix)J.push(this.options.prefix);if(Q.length)J.push(Q.join(", "));this._container.innerHTML=J.join(' <span aria-hidden="true">|</span> ')}});j.mergeOptions({attributionControl:!0}),j.addInitHook(function(){if(this.options.attributionControl)new Y8().addTo(this)});var F6=function(Q){return new Y8(Q)};H0.Layers=s8,H0.Zoom=J8,H0.Scale=a8,H0.Attribution=Y8,XQ.layers=I6,XQ.zoom=A6,XQ.scale=N6,XQ.attribution=F6;var N0=y.extend({initialize:function(Q){this._map=Q},enable:function(){if(this._enabled)return this;return this._enabled=!0,this.addHooks(),this},disable:function(){if(!this._enabled)return this;return this._enabled=!1,this.removeHooks(),this},enabled:function(){return!!this._enabled}});N0.addTo=function(Q,K){return Q.addHandler(K,this),this};var D6={Events:n},n8=R.touch?"touchstart mousedown":"mousedown",h0=D0.extend({options:{clickTolerance:3},initialize:function(Q,K,J,Y){h(this,Y),this._element=Q,this._dragStartTarget=K||Q,this._preventOutline=J},enable:function(){if(this._enabled)return;B(this._dragStartTarget,n8,this._onDown,this),this._enabled=!0},disable:function(){if(!this._enabled)return;if(h0._dragging===this)this.finishDrag(!0);p(this._dragStartTarget,n8,this._onDown,this),this._enabled=!1,this._moved=!1},_onDown:function(Q){if(!this._enabled)return;if(this._moved=!1,dQ(this._element,"leaflet-zoom-anim"))return;if(Q.touches&&Q.touches.length!==1){if(h0._dragging===this)this.finishDrag();return}if(h0._dragging||Q.shiftKey||Q.which!==1&&Q.button!==1&&!Q.touches)return;if(h0._dragging=this,this._preventOutline)aQ(this._element);if(iQ(),QQ(),this._moving)return;this.fire("down");var K=Q.touches?Q.touches[0]:Q,J=m8(this._element);this._startPoint=new S(K.clientX,K.clientY),this._startPos=j0(this._element),this._parentScale=nQ(J);var Y=Q.type==="mousedown";B(document,Y?"mousemove":"touchmove",this._onMove,this),B(document,Y?"mouseup":"touchend touchcancel",this._onUp,this)},_onMove:function(Q){if(!this._enabled)return;if(Q.touches&&Q.touches.length>1){this._moved=!0;return}var K=Q.touches&&Q.touches.length===1?Q.touches[0]:Q,J=new S(K.clientX,K.clientY)._subtract(this._startPoint);if(!J.x&&!J.y)return;if(Math.abs(J.x)+Math.abs(J.y)<this.options.clickTolerance)return;if(J.x/=this._parentScale.x,J.y/=this._parentScale.y,Y0(Q),!this._moved){if(this.fire("dragstart"),this._moved=!0,C(document.body,"leaflet-dragging"),this._lastTarget=Q.target||Q.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance)this._lastTarget=this._lastTarget.correspondingUseElement;C(this._lastTarget,"leaflet-drag-target")}this._newPos=this._startPos.add(J),this._moving=!0,this._lastEvent=Q,this._updatePosition()},_updatePosition:function(){var Q={originalEvent:this._lastEvent};this.fire("predrag",Q),t(this._element,this._newPos),this.fire("drag",Q)},_onUp:function(){if(!this._enabled)return;this.finishDrag()},finishDrag:function(Q){if(a(document.body,"leaflet-dragging"),this._lastTarget)a(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null;p(document,"mousemove touchmove",this._onMove,this),p(document,"mouseup touchend touchcancel",this._onUp,this),rQ(),KQ();var K=this._moved&&this._moving;if(this._moving=!1,h0._dragging=!1,K)this.fire("dragend",{noInertia:Q,distance:this._newPos.distanceTo(this._startPos)})}});function t8(Q,K,J){var Y,X=[1,4,2,8],V,$,W,G,_,E,D,z;for(V=0,E=Q.length;V<E;V++)Q[V]._code=x0(Q[V],K);for(W=0;W<4;W++){D=X[W],Y=[];for(V=0,E=Q.length,$=E-1;V<E;$=V++)if(G=Q[V],_=Q[$],!(G._code&D)){if(_._code&D)z=NQ(_,G,D,K,J),z._code=x0(z,K),Y.push(z);Y.push(G)}else if(!(_._code&D))z=NQ(_,G,D,K,J),z._code=x0(z,K),Y.push(z);Q=Y}return Q}function o8(Q,K){var J,Y,X,V,$,W,G,_,E;if(!Q||Q.length===0)throw new Error("latlngs not passed");if(!G0(Q))console.warn("latlngs are not flat! Only the first ring will be used"),Q=Q[0];var D=k([0,0]),z=l(Q),X0=z.getNorthWest().distanceTo(z.getSouthWest())*z.getNorthEast().distanceTo(z.getNorthWest());if(X0<1700)D=X8(Q);var Q0=Q.length,q0=[];for(J=0;J<Q0;J++){var $0=k(Q[J]);q0.push(K.project(k([$0.lat-D.lat,$0.lng-D.lng])))}W=G=_=0;for(J=0,Y=Q0-1;J<Q0;Y=J++)X=q0[J],V=q0[Y],$=X.y*V.x-V.y*X.x,G+=(X.x+V.x)*$,_+=(X.y+V.y)*$,W+=$*3;if(W===0)E=q0[0];else E=[G/W,_/W];var s0=K.unproject(M(E));return k([s0.lat+D.lat,s0.lng+D.lng])}function X8(Q){var K=0,J=0,Y=0;for(var X=0;X<Q.length;X++){var V=k(Q[X]);K+=V.lat,J+=V.lng,Y++}return k([K/Y,J/Y])}var T6={__proto__:null,clipPolygon:t8,polygonCenter:o8,centroid:X8};function e8(Q,K){if(!K||!Q.length)return Q.slice();var J=K*K;return Q=O6(Q,J),Q=S6(Q,J),Q}function Q9(Q,K,J){return Math.sqrt(VQ(Q,K,J,!0))}function M6(Q,K,J){return VQ(Q,K,J)}function S6(Q,K){var J=Q.length,Y=typeof Uint8Array!=="undefined"?Uint8Array:Array,X=new Y(J);X[0]=X[J-1]=1,V8(Q,X,K,0,J-1);var V,$=[];for(V=0;V<J;V++)if(X[V])$.push(Q[V]);return $}function V8(Q,K,J,Y,X){var V=0,$,W,G;for(W=Y+1;W<=X-1;W++)if(G=VQ(Q[W],Q[Y],Q[X],!0),G>V)$=W,V=G;if(V>J)K[$]=1,V8(Q,K,J,Y,$),V8(Q,K,J,$,X)}function O6(Q,K){var J=[Q[0]];for(var Y=1,X=0,V=Q.length;Y<V;Y++)if(B6(Q[Y],Q[X])>K)J.push(Q[Y]),X=Y;if(X<V-1)J.push(Q[V-1]);return J}var K9;function J9(Q,K,J,Y,X){var V=Y?K9:x0(Q,J),$=x0(K,J),W,G,_;K9=$;while(!0){if(!(V|$))return[Q,K];if(V&$)return!1;if(W=V||$,G=NQ(Q,K,W,J,X),_=x0(G,J),W===V)Q=G,V=_;else K=G,$=_}}function NQ(Q,K,J,Y,X){var V=K.x-Q.x,$=K.y-Q.y,W=Y.min,G=Y.max,_,E;if(J&8)_=Q.x+V*(G.y-Q.y)/$,E=G.y;else if(J&4)_=Q.x+V*(W.y-Q.y)/$,E=W.y;else if(J&2)_=G.x,E=Q.y+$*(G.x-Q.x)/V;else if(J&1)_=W.x,E=Q.y+$*(W.x-Q.x)/V;return new S(_,E,X)}function x0(Q,K){var J=0;if(Q.x<K.min.x)J|=1;else if(Q.x>K.max.x)J|=2;if(Q.y<K.min.y)J|=4;else if(Q.y>K.max.y)J|=8;return J}function B6(Q,K){var J=K.x-Q.x,Y=K.y-Q.y;return J*J+Y*Y}function VQ(Q,K,J,Y){var{x:X,y:V}=K,$=J.x-X,W=J.y-V,G=$*$+W*W,_;if(G>0){if(_=((Q.x-X)*$+(Q.y-V)*W)/G,_>1)X=J.x,V=J.y;else if(_>0)X+=$*_,V+=W*_}return $=Q.x-X,W=Q.y-V,Y?$*$+W*W:new S(X,V)}function G0(Q){return!s(Q[0])||typeof Q[0][0]!=="object"&&typeof Q[0][0]!=="undefined"}function Y9(Q){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),G0(Q)}function X9(Q,K){var J,Y,X,V,$,W,G,_;if(!Q||Q.length===0)throw new Error("latlngs not passed");if(!G0(Q))console.warn("latlngs are not flat! Only the first ring will be used"),Q=Q[0];var E=k([0,0]),D=l(Q),z=D.getNorthWest().distanceTo(D.getSouthWest())*D.getNorthEast().distanceTo(D.getNorthWest());if(z<1700)E=X8(Q);var X0=Q.length,Q0=[];for(J=0;J<X0;J++){var q0=k(Q[J]);Q0.push(K.project(k([q0.lat-E.lat,q0.lng-E.lng])))}for(J=0,Y=0;J<X0-1;J++)Y+=Q0[J].distanceTo(Q0[J+1])/2;if(Y===0)_=Q0[0];else for(J=0,V=0;J<X0-1;J++)if($=Q0[J],W=Q0[J+1],X=$.distanceTo(W),V+=X,V>Y){G=(V-Y)/X,_=[W.x-G*(W.x-$.x),W.y-G*(W.y-$.y)];break}var $0=K.unproject(M(_));return k([$0.lat+E.lat,$0.lng+E.lng])}var C6={__proto__:null,simplify:e8,pointToSegmentDistance:Q9,closestPointOnSegment:M6,clipSegment:J9,_getEdgeIntersection:NQ,_getBitCode:x0,_sqClosestPointOnSegment:VQ,isFlat:G0,_flat:Y9,polylineCenter:X9},U8={project:function(Q){return new S(Q.lng,Q.lat)},unproject:function(Q){return new c(Q.y,Q.x)},bounds:new d([-180,-90],[180,90])},$8={R:6378137,R_MINOR:6356752.314245179,bounds:new d([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(Q){var K=Math.PI/180,J=this.R,Y=Q.lat*K,X=this.R_MINOR/J,V=Math.sqrt(1-X*X),$=V*Math.sin(Y),W=Math.tan(Math.PI/4-Y/2)/Math.pow((1-$)/(1+$),V/2);return Y=-J*Math.log(Math.max(W,0.0000000001)),new S(Q.lng*K*J,Y)},unproject:function(Q){var K=180/Math.PI,J=this.R,Y=this.R_MINOR/J,X=Math.sqrt(1-Y*Y),V=Math.exp(-Q.y/J),$=Math.PI/2-2*Math.atan(V);for(var W=0,G=0.1,_;W<15&&Math.abs(G)>0.0000001;W++)_=X*Math.sin($),_=Math.pow((1-_)/(1+_),X/2),G=Math.PI/2-2*Math.atan(V*_)-$,$+=G;return new c($*K,Q.x*K/J)}},w6={__proto__:null,LonLat:U8,Mercator:$8,SphericalMercator:vQ},z6=q({},z0,{code:"EPSG:3395",projection:$8,transformation:function(){var Q=0.5/(Math.PI*$8.R);return n0(Q,0.5,-Q,0.5)}()}),V9=q({},z0,{code:"EPSG:4326",projection:U8,transformation:n0(0.005555555555555556,1,-0.005555555555555556,0.5)}),h6=q({},T0,{projection:U8,transformation:n0(1,0,-1,0),scale:function(Q){return Math.pow(2,Q)},zoom:function(Q){return Math.log(Q)/Math.LN2},distance:function(Q,K){var J=K.lng-Q.lng,Y=K.lat-Q.lat;return Math.sqrt(J*J+Y*Y)},infinite:!0});T0.Earth=z0,T0.EPSG3395=z6,T0.EPSG3857=xQ,T0.EPSG900913=x9,T0.EPSG4326=V9,T0.Simple=h6;var _0=D0.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(Q){return Q.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(Q){if(Q)Q.removeLayer(this);return this},getPane:function(Q){return this._map.getPane(Q?this.options[Q]||Q:this.options.pane)},addInteractiveTarget:function(Q){return this._map._targets[A(Q)]=this,this},removeInteractiveTarget:function(Q){return delete this._map._targets[A(Q)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(Q){var K=Q.target;if(!K.hasLayer(this))return;if(this._map=K,this._zoomAnimated=K._zoomAnimated,this.getEvents){var J=this.getEvents();K.on(J,this),this.once("remove",function(){K.off(J,this)},this)}this.onAdd(K),this.fire("add"),K.fire("layeradd",{layer:this})}});j.include({addLayer:function(Q){if(!Q._layerAdd)throw new Error("The provided object is not a Layer.");var K=A(Q);if(this._layers[K])return this;if(this._layers[K]=Q,Q._mapToAdd=this,Q.beforeAdd)Q.beforeAdd(this);return this.whenReady(Q._layerAdd,Q),this},removeLayer:function(Q){var K=A(Q);if(!this._layers[K])return this;if(this._loaded)Q.onRemove(this);if(delete this._layers[K],this._loaded)this.fire("layerremove",{layer:Q}),Q.fire("remove");return Q._map=Q._mapToAdd=null,this},hasLayer:function(Q){return A(Q)in this._layers},eachLayer:function(Q,K){for(var J in this._layers)Q.call(K,this._layers[J]);return this},_addLayers:function(Q){Q=Q?s(Q)?Q:[Q]:[];for(var K=0,J=Q.length;K<J;K++)this.addLayer(Q[K])},_addZoomLimit:function(Q){if(!isNaN(Q.options.maxZoom)||!isNaN(Q.options.minZoom))this._zoomBoundLayers[A(Q)]=Q,this._updateZoomLevels()},_removeZoomLimit:function(Q){var K=A(Q);if(this._zoomBoundLayers[K])delete this._zoomBoundLayers[K],this._updateZoomLevels()},_updateZoomLevels:function(){var Q=1/0,K=-1/0,J=this._getZoomSpan();for(var Y in this._zoomBoundLayers){var X=this._zoomBoundLayers[Y].options;Q=X.minZoom===void 0?Q:Math.min(Q,X.minZoom),K=X.maxZoom===void 0?K:Math.max(K,X.maxZoom)}if(this._layersMaxZoom=K===-1/0?void 0:K,this._layersMinZoom=Q===1/0?void 0:Q,J!==this._getZoomSpan())this.fire("zoomlevelschange");if(this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom)this.setZoom(this._layersMaxZoom);if(this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom)this.setZoom(this._layersMinZoom)}});var d0=_0.extend({initialize:function(Q,K){h(this,K),this._layers={};var J,Y;if(Q)for(J=0,Y=Q.length;J<Y;J++)this.addLayer(Q[J])},addLayer:function(Q){var K=this.getLayerId(Q);if(this._layers[K]=Q,this._map)this._map.addLayer(Q);return this},removeLayer:function(Q){var K=Q in this._layers?Q:this.getLayerId(Q);if(this._map&&this._layers[K])this._map.removeLayer(this._layers[K]);return delete this._layers[K],this},hasLayer:function(Q){var K=typeof Q==="number"?Q:this.getLayerId(Q);return K in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(Q){var K=Array.prototype.slice.call(arguments,1),J,Y;for(J in this._layers)if(Y=this._layers[J],Y[Q])Y[Q].apply(Y,K);return this},onAdd:function(Q){this.eachLayer(Q.addLayer,Q)},onRemove:function(Q){this.eachLayer(Q.removeLayer,Q)},eachLayer:function(Q,K){for(var J in this._layers)Q.call(K,this._layers[J]);return this},getLayer:function(Q){return this._layers[Q]},getLayers:function(){var Q=[];return this.eachLayer(Q.push,Q),Q},setZIndex:function(Q){return this.invoke("setZIndex",Q)},getLayerId:function(Q){return A(Q)}}),P6=function(Q,K){return new d0(Q,K)},M0=d0.extend({addLayer:function(Q){if(this.hasLayer(Q))return this;return Q.addEventParent(this),d0.prototype.addLayer.call(this,Q),this.fire("layeradd",{layer:Q})},removeLayer:function(Q){if(!this.hasLayer(Q))return this;if(Q in this._layers)Q=this._layers[Q];return Q.removeEventParent(this),d0.prototype.removeLayer.call(this,Q),this.fire("layerremove",{layer:Q})},setStyle:function(Q){return this.invoke("setStyle",Q)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var Q=new J0;for(var K in this._layers){var J=this._layers[K];Q.extend(J.getBounds?J.getBounds():J.getLatLng())}return Q}}),k6=function(Q,K){return new M0(Q,K)},p0=y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(Q){h(this,Q)},createIcon:function(Q){return this._createIcon("icon",Q)},createShadow:function(Q){return this._createIcon("shadow",Q)},_createIcon:function(Q,K){var J=this._getIconUrl(Q);if(!J){if(Q==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Y=this._createImg(J,K&&K.tagName==="IMG"?K:null);if(this._setIconStyles(Y,Q),this.options.crossOrigin||this.options.crossOrigin==="")Y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin;return Y},_setIconStyles:function(Q,K){var J=this.options,Y=J[K+"Size"];if(typeof Y==="number")Y=[Y,Y];var X=M(Y),V=M(K==="shadow"&&J.shadowAnchor||J.iconAnchor||X&&X.divideBy(2,!0));if(Q.className="leaflet-marker-"+K+" "+(J.className||""),V)Q.style.marginLeft=-V.x+"px",Q.style.marginTop=-V.y+"px";if(X)Q.style.width=X.x+"px",Q.style.height=X.y+"px"},_createImg:function(Q,K){return K=K||document.createElement("img"),K.src=Q,K},_getIconUrl:function(Q){return R.retina&&this.options[Q+"RetinaUrl"]||this.options[Q+"Url"]}});function j6(Q){return new p0(Q)}var UQ=p0.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(Q){if(typeof UQ.imagePath!=="string")UQ.imagePath=this._detectIconPath();return(this.options.imagePath||UQ.imagePath)+p0.prototype._getIconUrl.call(this,Q)},_stripUrl:function(Q){var K=function(J,Y,X){var V=Y.exec(J);return V&&V[X]};return Q=K(Q,/^url\((['"])?(.+)\1\)$/,2),Q&&K(Q,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var Q=f("div","leaflet-default-icon-path",document.body),K=e0(Q,"background-image")||e0(Q,"backgroundImage");if(document.body.removeChild(Q),K=this._stripUrl(K),K)return K;var J=document.querySelector('link[href$="leaflet.css"]');if(!J)return"";return J.href.substring(0,J.href.length-"leaflet.css".length-1)}}),U9=N0.extend({initialize:function(Q){this._marker=Q},addHooks:function(){var Q=this._marker._icon;if(!this._draggable)this._draggable=new h0(Q,Q,!0);this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),C(Q,"leaflet-marker-draggable")},removeHooks:function(){if(this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon)a(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(Q){var K=this._marker,J=K._map,Y=this._marker.options.autoPanSpeed,X=this._marker.options.autoPanPadding,V=j0(K._icon),$=J.getPixelBounds(),W=J.getPixelOrigin(),G=K0($.min._subtract(W).add(X),$.max._subtract(W).subtract(X));if(!G.contains(V)){var _=M((Math.max(G.max.x,V.x)-G.max.x)/($.max.x-G.max.x)-(Math.min(G.min.x,V.x)-G.min.x)/($.min.x-G.min.x),(Math.max(G.max.y,V.y)-G.max.y)/($.max.y-G.max.y)-(Math.min(G.min.y,V.y)-G.min.y)/($.min.y-G.min.y)).multiplyBy(Y);J.panBy(_,{animate:!1}),this._draggable._newPos._add(_),this._draggable._startPos._add(_),t(K._icon,this._draggable._newPos),this._onDrag(Q),this._panRequest=P(this._adjustPan.bind(this,Q))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(Q){if(this._marker.options.autoPan)m(this._panRequest),this._panRequest=P(this._adjustPan.bind(this,Q))},_onDrag:function(Q){var K=this._marker,J=K._shadow,Y=j0(K._icon),X=K._map.layerPointToLatLng(Y);if(J)t(J,Y);K._latlng=X,Q.latlng=X,Q.oldLatLng=this._oldLatLng,K.fire("move",Q).fire("drag",Q)},_onDragEnd:function(Q){m(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",Q)}}),RQ=_0.extend({options:{icon:new UQ,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(Q,K){h(this,K),this._latlng=k(Q)},onAdd:function(Q){if(this._zoomAnimated=this._zoomAnimated&&Q.options.markerZoomAnimation,this._zoomAnimated)Q.on("zoomanim",this._animateZoom,this);this._initIcon(),this.update()},onRemove:function(Q){if(this.dragging&&this.dragging.enabled())this.options.draggable=!0,this.dragging.removeHooks();if(delete this.dragging,this._zoomAnimated)Q.off("zoomanim",this._animateZoom,this);this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(Q){var K=this._latlng;return this._latlng=k(Q),this.update(),this.fire("move",{oldLatLng:K,latlng:this._latlng})},setZIndexOffset:function(Q){return this.options.zIndexOffset=Q,this.update()},getIcon:function(){return this.options.icon},setIcon:function(Q){if(this.options.icon=Q,this._map)this._initIcon(),this.update();if(this._popup)this.bindPopup(this._popup,this._popup.options);return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var Q=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(Q)}return this},_initIcon:function(){var Q=this.options,K="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),J=Q.icon.createIcon(this._icon),Y=!1;if(J!==this._icon){if(this._icon)this._removeIcon();if(Y=!0,Q.title)J.title=Q.title;if(J.tagName==="IMG")J.alt=Q.alt||""}if(C(J,K),Q.keyboard)J.tabIndex="0",J.setAttribute("role","button");if(this._icon=J,Q.riseOnHover)this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});if(this.options.autoPanOnFocus)B(J,"focus",this._panOnFocus,this);var X=Q.icon.createShadow(this._shadow),V=!1;if(X!==this._shadow)this._removeShadow(),V=!0;if(X)C(X,K),X.alt="";if(this._shadow=X,Q.opacity<1)this._updateOpacity();if(Y)this.getPane().appendChild(this._icon);if(this._initInteraction(),X&&V)this.getPane(Q.shadowPane).appendChild(this._shadow)},_removeIcon:function(){if(this.options.riseOnHover)this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});if(this.options.autoPanOnFocus)p(this._icon,"focus",this._panOnFocus,this);i(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){if(this._shadow)i(this._shadow);this._shadow=null},_setPos:function(Q){if(this._icon)t(this._icon,Q);if(this._shadow)t(this._shadow,Q);this._zIndex=Q.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(Q){if(this._icon)this._icon.style.zIndex=this._zIndex+Q},_animateZoom:function(Q){var K=this._map._latLngToNewLayerPoint(this._latlng,Q.zoom,Q.center).round();this._setPos(K)},_initInteraction:function(){if(!this.options.interactive)return;if(C(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),U9){var Q=this.options.draggable;if(this.dragging)Q=this.dragging.enabled(),this.dragging.disable();if(this.dragging=new U9(this),Q)this.dragging.enable()}},setOpacity:function(Q){if(this.options.opacity=Q,this._map)this._updateOpacity();return this},_updateOpacity:function(){var Q=this.options.opacity;if(this._icon)W0(this._icon,Q);if(this._shadow)W0(this._shadow,Q)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var Q=this._map;if(!Q)return;var K=this.options.icon.options,J=K.iconSize?M(K.iconSize):M(0,0),Y=K.iconAnchor?M(K.iconAnchor):M(0,0);Q.panInside(this._latlng,{paddingTopLeft:Y,paddingBottomRight:J.subtract(Y)})},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function v6(Q,K){return new RQ(Q,K)}var P0=_0.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:0.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(Q){this._renderer=Q.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){if(this._map)this._renderer._updatePath(this);return this},setStyle:function(Q){if(h(this,Q),this._renderer){if(this._renderer._updateStyle(this),this.options.stroke&&Q&&Object.prototype.hasOwnProperty.call(Q,"weight"))this._updateBounds()}return this},bringToFront:function(){if(this._renderer)this._renderer._bringToFront(this);return this},bringToBack:function(){if(this._renderer)this._renderer._bringToBack(this);return this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),FQ=P0.extend({options:{fill:!0,radius:10},initialize:function(Q,K){h(this,K),this._latlng=k(Q),this._radius=this.options.radius},setLatLng:function(Q){var K=this._latlng;return this._latlng=k(Q),this.redraw(),this.fire("move",{oldLatLng:K,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(Q){return this.options.radius=this._radius=Q,this.redraw()},getRadius:function(){return this._radius},setStyle:function(Q){var K=Q&&Q.radius||this._radius;return P0.prototype.setStyle.call(this,Q),this.setRadius(K),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var Q=this._radius,K=this._radiusY||Q,J=this._clickTolerance(),Y=[Q+J,K+J];this._pxBounds=new d(this._point.subtract(Y),this._point.add(Y))},_update:function(){if(this._map)this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(Q){return Q.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function L6(Q,K){return new FQ(Q,K)}var W8=FQ.extend({initialize:function(Q,K,J){if(typeof K==="number")K=q({},J,{radius:K});if(h(this,K),this._latlng=k(Q),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(Q){return this._mRadius=Q,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var Q=[this._radius,this._radiusY||this._radius];return new J0(this._map.layerPointToLatLng(this._point.subtract(Q)),this._map.layerPointToLatLng(this._point.add(Q)))},setStyle:P0.prototype.setStyle,_project:function(){var Q=this._latlng.lng,K=this._latlng.lat,J=this._map,Y=J.options.crs;if(Y.distance===z0.distance){var X=Math.PI/180,V=this._mRadius/z0.R/X,$=J.project([K+V,Q]),W=J.project([K-V,Q]),G=$.add(W).divideBy(2),_=J.unproject(G).lat,E=Math.acos((Math.cos(V*X)-Math.sin(K*X)*Math.sin(_*X))/(Math.cos(K*X)*Math.cos(_*X)))/X;if(isNaN(E)||E===0)E=V/Math.cos(Math.PI/180*K);this._point=G.subtract(J.getPixelOrigin()),this._radius=isNaN(E)?0:G.x-J.project([_,Q-E]).x,this._radiusY=G.y-$.y}else{var D=Y.unproject(Y.project(this._latlng).subtract([this._mRadius,0]));this._point=J.latLngToLayerPoint(this._latlng),this._radius=this._point.x-J.latLngToLayerPoint(D).x}this._updateBounds()}});function x6(Q,K,J){return new W8(Q,K,J)}var S0=P0.extend({options:{smoothFactor:1,noClip:!1},initialize:function(Q,K){h(this,K),this._setLatLngs(Q)},getLatLngs:function(){return this._latlngs},setLatLngs:function(Q){return this._setLatLngs(Q),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(Q){var K=1/0,J=null,Y=VQ,X,V;for(var $=0,W=this._parts.length;$<W;$++){var G=this._parts[$];for(var _=1,E=G.length;_<E;_++){X=G[_-1],V=G[_];var D=Y(Q,X,V,!0);if(D<K)K=D,J=Y(Q,X,V)}}if(J)J.distance=Math.sqrt(K);return J},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return X9(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(Q,K){return K=K||this._defaultShape(),Q=k(Q),K.push(Q),this._bounds.extend(Q),this.redraw()},_setLatLngs:function(Q){this._bounds=new J0,this._latlngs=this._convertLatLngs(Q)},_defaultShape:function(){return G0(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(Q){var K=[],J=G0(Q);for(var Y=0,X=Q.length;Y<X;Y++)if(J)K[Y]=k(Q[Y]),this._bounds.extend(K[Y]);else K[Y]=this._convertLatLngs(Q[Y]);return K},_project:function(){var Q=new d;if(this._rings=[],this._projectLatlngs(this._latlngs,this._rings,Q),this._bounds.isValid()&&Q.isValid())this._rawPxBounds=Q,this._updateBounds()},_updateBounds:function(){var Q=this._clickTolerance(),K=new S(Q,Q);if(!this._rawPxBounds)return;this._pxBounds=new d([this._rawPxBounds.min.subtract(K),this._rawPxBounds.max.add(K)])},_projectLatlngs:function(Q,K,J){var Y=Q[0]instanceof c,X=Q.length,V,$;if(Y){$=[];for(V=0;V<X;V++)$[V]=this._map.latLngToLayerPoint(Q[V]),J.extend($[V]);K.push($)}else for(V=0;V<X;V++)this._projectLatlngs(Q[V],K,J)},_clipPoints:function(){var Q=this._renderer._bounds;if(this._parts=[],!this._pxBounds||!this._pxBounds.intersects(Q))return;if(this.options.noClip){this._parts=this._rings;return}var K=this._parts,J,Y,X,V,$,W,G;for(J=0,X=0,V=this._rings.length;J<V;J++){G=this._rings[J];for(Y=0,$=G.length;Y<$-1;Y++){if(W=J9(G[Y],G[Y+1],Q,Y,!0),!W)continue;if(K[X]=K[X]||[],K[X].push(W[0]),W[1]!==G[Y+1]||Y===$-2)K[X].push(W[1]),X++}}},_simplifyPoints:function(){var Q=this._parts,K=this.options.smoothFactor;for(var J=0,Y=Q.length;J<Y;J++)Q[J]=e8(Q[J],K)},_update:function(){if(!this._map)return;this._clipPoints(),this._simplifyPoints(),this._updatePath()},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(Q,K){var J,Y,X,V,$,W,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(Q))return!1;for(J=0,V=this._parts.length;J<V;J++){W=this._parts[J];for(Y=0,$=W.length,X=$-1;Y<$;X=Y++){if(!K&&Y===0)continue;if(Q9(Q,W[X],W[Y])<=G)return!0}}return!1}});function f6(Q,K){return new S0(Q,K)}S0._flat=Y9;var l0=S0.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return o8(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(Q){var K=S0.prototype._convertLatLngs.call(this,Q),J=K.length;if(J>=2&&K[0]instanceof c&&K[0].equals(K[J-1]))K.pop();return K},_setLatLngs:function(Q){if(S0.prototype._setLatLngs.call(this,Q),G0(this._latlngs))this._latlngs=[this._latlngs]},_defaultShape:function(){return G0(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var Q=this._renderer._bounds,K=this.options.weight,J=new S(K,K);if(Q=new d(Q.min.subtract(J),Q.max.add(J)),this._parts=[],!this._pxBounds||!this._pxBounds.intersects(Q))return;if(this.options.noClip){this._parts=this._rings;return}for(var Y=0,X=this._rings.length,V;Y<X;Y++)if(V=t8(this._rings[Y],Q,!0),V.length)this._parts.push(V)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(Q){var K=!1,J,Y,X,V,$,W,G,_;if(!this._pxBounds||!this._pxBounds.contains(Q))return!1;for(V=0,G=this._parts.length;V<G;V++){J=this._parts[V];for($=0,_=J.length,W=_-1;$<_;W=$++)if(Y=J[$],X=J[W],Y.y>Q.y!==X.y>Q.y&&Q.x<(X.x-Y.x)*(Q.y-Y.y)/(X.y-Y.y)+Y.x)K=!K}return K||S0.prototype._containsPoint.call(this,Q,!0)}});function b6(Q,K){return new l0(Q,K)}var O0=M0.extend({initialize:function(Q,K){if(h(this,K),this._layers={},Q)this.addData(Q)},addData:function(Q){var K=s(Q)?Q:Q.features,J,Y,X;if(K){for(J=0,Y=K.length;J<Y;J++)if(X=K[J],X.geometries||X.geometry||X.features||X.coordinates)this.addData(X);return this}var V=this.options;if(V.filter&&!V.filter(Q))return this;var $=DQ(Q,V);if(!$)return this;if($.feature=SQ(Q),$.defaultOptions=$.options,this.resetStyle($),V.onEachFeature)V.onEachFeature(Q,$);return this.addLayer($)},resetStyle:function(Q){if(Q===void 0)return this.eachLayer(this.resetStyle,this);return Q.options=q({},Q.defaultOptions),this._setLayerStyle(Q,this.options.style),this},setStyle:function(Q){return this.eachLayer(function(K){this._setLayerStyle(K,Q)},this)},_setLayerStyle:function(Q,K){if(Q.setStyle){if(typeof K==="function")K=K(Q.feature);Q.setStyle(K)}}});function DQ(Q,K){var J=Q.type==="Feature"?Q.geometry:Q,Y=J?J.coordinates:null,X=[],V=K&&K.pointToLayer,$=K&&K.coordsToLatLng||G8,W,G,_,E;if(!Y&&!J)return null;switch(J.type){case"Point":return W=$(Y),$9(V,Q,W,K);case"MultiPoint":for(_=0,E=Y.length;_<E;_++)W=$(Y[_]),X.push($9(V,Q,W,K));return new M0(X);case"LineString":case"MultiLineString":return G=TQ(Y,J.type==="LineString"?0:1,$),new S0(G,K);case"Polygon":case"MultiPolygon":return G=TQ(Y,J.type==="Polygon"?1:2,$),new l0(G,K);case"GeometryCollection":for(_=0,E=J.geometries.length;_<E;_++){var D=DQ({geometry:J.geometries[_],type:"Feature",properties:Q.properties},K);if(D)X.push(D)}return new M0(X);case"FeatureCollection":for(_=0,E=J.features.length;_<E;_++){var z=DQ(J.features[_],K);if(z)X.push(z)}return new M0(X);default:throw new Error("Invalid GeoJSON object.")}}function $9(Q,K,J,Y){return Q?Q(K,J):new RQ(J,Y&&Y.markersInheritOptions&&Y)}function G8(Q){return new c(Q[1],Q[0],Q[2])}function TQ(Q,K,J){var Y=[];for(var X=0,V=Q.length,$;X<V;X++)$=K?TQ(Q[X],K-1,J):(J||G8)(Q[X]),Y.push($);return Y}function q8(Q,K){return Q=k(Q),Q.alt!==void 0?[x(Q.lng,K),x(Q.lat,K),x(Q.alt,K)]:[x(Q.lng,K),x(Q.lat,K)]}function MQ(Q,K,J,Y){var X=[];for(var V=0,$=Q.length;V<$;V++)X.push(K?MQ(Q[V],G0(Q[V])?0:K-1,J,Y):q8(Q[V],Y));if(!K&&J&&X.length>0)X.push(X[0].slice());return X}function i0(Q,K){return Q.feature?q({},Q.feature,{geometry:K}):SQ(K)}function SQ(Q){if(Q.type==="Feature"||Q.type==="FeatureCollection")return Q;return{type:"Feature",properties:{},geometry:Q}}var H8={toGeoJSON:function(Q){return i0(this,{type:"Point",coordinates:q8(this.getLatLng(),Q)})}};RQ.include(H8),W8.include(H8),FQ.include(H8),S0.include({toGeoJSON:function(Q){var K=!G0(this._latlngs),J=MQ(this._latlngs,K?1:0,!1,Q);return i0(this,{type:(K?"Multi":"")+"LineString",coordinates:J})}}),l0.include({toGeoJSON:function(Q){var K=!G0(this._latlngs),J=K&&!G0(this._latlngs[0]),Y=MQ(this._latlngs,J?2:K?1:0,!0,Q);if(!K)Y=[Y];return i0(this,{type:(J?"Multi":"")+"Polygon",coordinates:Y})}}),d0.include({toMultiPoint:function(Q){var K=[];return this.eachLayer(function(J){K.push(J.toGeoJSON(Q).geometry.coordinates)}),i0(this,{type:"MultiPoint",coordinates:K})},toGeoJSON:function(Q){var K=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(K==="MultiPoint")return this.toMultiPoint(Q);var J=K==="GeometryCollection",Y=[];if(this.eachLayer(function(X){if(X.toGeoJSON){var V=X.toGeoJSON(Q);if(J)Y.push(V.geometry);else{var $=SQ(V);if($.type==="FeatureCollection")Y.push.apply(Y,$.features);else Y.push($)}}}),J)return i0(this,{geometries:Y,type:"GeometryCollection"});return{type:"FeatureCollection",features:Y}}});function W9(Q,K){return new O0(Q,K)}var g6=W9,OQ=_0.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(Q,K,J){this._url=Q,this._bounds=l(K),h(this,J)},onAdd:function(){if(!this._image){if(this._initImage(),this.options.opacity<1)this._updateOpacity()}if(this.options.interactive)C(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image);this.getPane().appendChild(this._image),this._reset()},onRemove:function(){if(i(this._image),this.options.interactive)this.removeInteractiveTarget(this._image)},setOpacity:function(Q){if(this.options.opacity=Q,this._image)this._updateOpacity();return this},setStyle:function(Q){if(Q.opacity)this.setOpacity(Q.opacity);return this},bringToFront:function(){if(this._map)c0(this._image);return this},bringToBack:function(){if(this._map)m0(this._image);return this},setUrl:function(Q){if(this._url=Q,this._image)this._image.src=Q;return this},setBounds:function(Q){if(this._bounds=l(Q),this._map)this._reset();return this},getEvents:function(){var Q={zoom:this._reset,viewreset:this._reset};if(this._zoomAnimated)Q.zoomanim=this._animateZoom;return Q},setZIndex:function(Q){return this.options.zIndex=Q,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var Q=this._url.tagName==="IMG",K=this._image=Q?this._url:f("img");if(C(K,"leaflet-image-layer"),this._zoomAnimated)C(K,"leaflet-zoom-animated");if(this.options.className)C(K,this.options.className);if(K.onselectstart=T,K.onmousemove=T,K.onload=Z(this.fire,this,"load"),K.onerror=Z(this._overlayOnError,this,"error"),this.options.crossOrigin||this.options.crossOrigin==="")K.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin;if(this.options.zIndex)this._updateZIndex();if(Q){this._url=K.src;return}K.src=this._url,K.alt=this.options.alt},_animateZoom:function(Q){var K=this._map.getZoomScale(Q.zoom),J=this._map._latLngBoundsToNewLayerBounds(this._bounds,Q.zoom,Q.center).min;k0(this._image,J,K)},_reset:function(){var Q=this._image,K=new d(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),J=K.getSize();t(Q,K.min),Q.style.width=J.x+"px",Q.style.height=J.y+"px"},_updateOpacity:function(){W0(this._image,this.options.opacity)},_updateZIndex:function(){if(this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null)this._image.style.zIndex=this.options.zIndex},_overlayOnError:function(){this.fire("error");var Q=this.options.errorOverlayUrl;if(Q&&this._url!==Q)this._url=Q,this._image.src=Q},getCenter:function(){return this._bounds.getCenter()}}),u6=function(Q,K,J){return new OQ(Q,K,J)},G9=OQ.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var Q=this._url.tagName==="VIDEO",K=this._image=Q?this._url:f("video");if(C(K,"leaflet-image-layer"),this._zoomAnimated)C(K,"leaflet-zoom-animated");if(this.options.className)C(K,this.options.className);if(K.onselectstart=T,K.onmousemove=T,K.onloadeddata=Z(this.fire,this,"load"),Q){var J=K.getElementsByTagName("source"),Y=[];for(var X=0;X<J.length;X++)Y.push(J[X].src);this._url=J.length>0?Y:[K.src];return}if(!s(this._url))this._url=[this._url];if(!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(K.style,"objectFit"))K.style.objectFit="fill";K.autoplay=!!this.options.autoplay,K.loop=!!this.options.loop,K.muted=!!this.options.muted,K.playsInline=!!this.options.playsInline;for(var V=0;V<this._url.length;V++){var $=f("source");$.src=this._url[V],K.appendChild($)}}});function y6(Q,K,J){return new G9(Q,K,J)}var q9=OQ.extend({_initImage:function(){var Q=this._image=this._url;if(C(Q,"leaflet-image-layer"),this._zoomAnimated)C(Q,"leaflet-zoom-animated");if(this.options.className)C(Q,this.options.className);Q.onselectstart=T,Q.onmousemove=T}});function c6(Q,K,J){return new q9(Q,K,J)}var R0=_0.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(Q,K){if(Q&&(Q instanceof c||s(Q)))this._latlng=k(Q),h(this,K);else h(this,Q),this._source=K;if(this.options.content)this._content=this.options.content},openOn:function(Q){if(Q=arguments.length?Q:this._source._map,!Q.hasLayer(this))Q.addLayer(this);return this},close:function(){if(this._map)this._map.removeLayer(this);return this},toggle:function(Q){if(this._map)this.close();else{if(arguments.length)this._source=Q;else Q=this._source;this._prepareOpen(),this.openOn(Q._map)}return this},onAdd:function(Q){if(this._zoomAnimated=Q._zoomAnimated,!this._container)this._initLayout();if(Q._fadeAnimated)W0(this._container,0);if(clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),Q._fadeAnimated)W0(this._container,1);if(this.bringToFront(),this.options.interactive)C(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container)},onRemove:function(Q){if(Q._fadeAnimated)W0(this._container,0),this._removeTimeout=setTimeout(Z(i,void 0,this._container),200);else i(this._container);if(this.options.interactive)a(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(Q){if(this._latlng=k(Q),this._map)this._updatePosition(),this._adjustPan();return this},getContent:function(){return this._content},setContent:function(Q){return this._content=Q,this.update(),this},getElement:function(){return this._container},update:function(){if(!this._map)return;this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan()},getEvents:function(){var Q={zoom:this._updatePosition,viewreset:this._updatePosition};if(this._zoomAnimated)Q.zoomanim=this._animateZoom;return Q},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){if(this._map)c0(this._container);return this},bringToBack:function(){if(this._map)m0(this._container);return this},_prepareOpen:function(Q){var K=this._source;if(!K._map)return!1;if(K instanceof M0){K=null;var J=this._source._layers;for(var Y in J)if(J[Y]._map){K=J[Y];break}if(!K)return!1;this._source=K}if(!Q)if(K.getCenter)Q=K.getCenter();else if(K.getLatLng)Q=K.getLatLng();else if(K.getBounds)Q=K.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");if(this.setLatLng(Q),this._map)this.update();return!0},_updateContent:function(){if(!this._content)return;var Q=this._contentNode,K=typeof this._content==="function"?this._content(this._source||this):this._content;if(typeof K==="string")Q.innerHTML=K;else{while(Q.hasChildNodes())Q.removeChild(Q.firstChild);Q.appendChild(K)}this.fire("contentupdate")},_updatePosition:function(){if(!this._map)return;var Q=this._map.latLngToLayerPoint(this._latlng),K=M(this.options.offset),J=this._getAnchor();if(this._zoomAnimated)t(this._container,Q.add(J));else K=K.add(Q).add(J);var Y=this._containerBottom=-K.y,X=this._containerLeft=-Math.round(this._containerWidth/2)+K.x;this._container.style.bottom=Y+"px",this._container.style.left=X+"px"},_getAnchor:function(){return[0,0]}});j.include({_initOverlay:function(Q,K,J,Y){var X=K;if(!(X instanceof Q))X=new Q(Y).setContent(K);if(J)X.setLatLng(J);return X}}),_0.include({_initOverlay:function(Q,K,J,Y){var X=J;if(X instanceof Q)h(X,Y),X._source=this;else X=K&&!Y?K:new Q(Y,this),X.setContent(J);return X}});var BQ=R0.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(Q){if(Q=arguments.length?Q:this._source._map,!Q.hasLayer(this)&&Q._popup&&Q._popup.options.autoClose)Q.removeLayer(Q._popup);return Q._popup=this,R0.prototype.openOn.call(this,Q)},onAdd:function(Q){if(R0.prototype.onAdd.call(this,Q),Q.fire("popupopen",{popup:this}),this._source){if(this._source.fire("popupopen",{popup:this},!0),!(this._source instanceof P0))this._source.on("preclick",v0)}},onRemove:function(Q){if(R0.prototype.onRemove.call(this,Q),Q.fire("popupclose",{popup:this}),this._source){if(this._source.fire("popupclose",{popup:this},!0),!(this._source instanceof P0))this._source.off("preclick",v0)}},getEvents:function(){var Q=R0.prototype.getEvents.call(this);if(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)Q.preclick=this.close;if(this.options.keepInView)Q.moveend=this._adjustPan;return Q},_initLayout:function(){var Q="leaflet-popup",K=this._container=f("div",Q+" "+(this.options.className||"")+" leaflet-zoom-animated"),J=this._wrapper=f("div",Q+"-content-wrapper",K);if(this._contentNode=f("div",Q+"-content",J),YQ(K),Q8(this._contentNode),B(K,"contextmenu",v0),this._tipContainer=f("div",Q+"-tip-container",K),this._tip=f("div",Q+"-tip",this._tipContainer),this.options.closeButton){var Y=this._closeButton=f("a",Q+"-close-button",K);Y.setAttribute("role","button"),Y.setAttribute("aria-label","Close popup"),Y.href="#close",Y.innerHTML='<span aria-hidden="true">&#215;</span>',B(Y,"click",function(X){Y0(X),this.close()},this)}},_updateLayout:function(){var Q=this._contentNode,K=Q.style;K.width="",K.whiteSpace="nowrap";var J=Q.offsetWidth;J=Math.min(J,this.options.maxWidth),J=Math.max(J,this.options.minWidth),K.width=J+1+"px",K.whiteSpace="",K.height="";var Y=Q.offsetHeight,X=this.options.maxHeight,V="leaflet-popup-scrolled";if(X&&Y>X)K.height=X+"px",C(Q,V);else a(Q,V);this._containerWidth=this._container.offsetWidth},_animateZoom:function(Q){var K=this._map._latLngToNewLayerPoint(this._latlng,Q.zoom,Q.center),J=this._getAnchor();t(this._container,K.add(J))},_adjustPan:function(){if(!this.options.autoPan)return;if(this._map._panAnim)this._map._panAnim.stop();if(this._autopanning){this._autopanning=!1;return}var Q=this._map,K=parseInt(e0(this._container,"marginBottom"),10)||0,J=this._container.offsetHeight+K,Y=this._containerWidth,X=new S(this._containerLeft,-J-this._containerBottom);X._add(j0(this._container));var V=Q.layerPointToContainerPoint(X),$=M(this.options.autoPanPadding),W=M(this.options.autoPanPaddingTopLeft||$),G=M(this.options.autoPanPaddingBottomRight||$),_=Q.getSize(),E=0,D=0;if(V.x+Y+G.x>_.x)E=V.x+Y-_.x+G.x;if(V.x-E-W.x<0)E=V.x-W.x;if(V.y+J+G.y>_.y)D=V.y+J-_.y+G.y;if(V.y-D-W.y<0)D=V.y-W.y;if(E||D){if(this.options.keepInView)this._autopanning=!0;Q.fire("autopanstart").panBy([E,D])}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),m6=function(Q,K){return new BQ(Q,K)};j.mergeOptions({closePopupOnClick:!0}),j.include({openPopup:function(Q,K,J){return this._initOverlay(BQ,Q,K,J).openOn(this),this},closePopup:function(Q){if(Q=arguments.length?Q:this._popup,Q)Q.close();return this}}),_0.include({bindPopup:function(Q,K){if(this._popup=this._initOverlay(BQ,this._popup,Q,K),!this._popupHandlersAdded)this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0;return this},unbindPopup:function(){if(this._popup)this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null;return this},openPopup:function(Q){if(this._popup){if(!(this instanceof M0))this._popup._source=this;if(this._popup._prepareOpen(Q||this._latlng))this._popup.openOn(this._map)}return this},closePopup:function(){if(this._popup)this._popup.close();return this},togglePopup:function(){if(this._popup)this._popup.toggle(this);return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(Q){if(this._popup)this._popup.setContent(Q);return this},getPopup:function(){return this._popup},_openPopup:function(Q){if(!this._popup||!this._map)return;L0(Q);var K=Q.layer||Q.target;if(this._popup._source===K&&!(K instanceof P0)){if(this._map.hasLayer(this._popup))this.closePopup();else this.openPopup(Q.latlng);return}this._popup._source=K,this.openPopup(Q.latlng)},_movePopup:function(Q){this._popup.setLatLng(Q.latlng)},_onKeyPress:function(Q){if(Q.originalEvent.keyCode===13)this._openPopup(Q)}});var CQ=R0.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:0.9},onAdd:function(Q){if(R0.prototype.onAdd.call(this,Q),this.setOpacity(this.options.opacity),Q.fire("tooltipopen",{tooltip:this}),this._source)this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(Q){if(R0.prototype.onRemove.call(this,Q),Q.fire("tooltipclose",{tooltip:this}),this._source)this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var Q=R0.prototype.getEvents.call(this);if(!this.options.permanent)Q.preclick=this.close;return Q},_initLayout:function(){var Q="leaflet-tooltip",K=Q+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=f("div",K),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+A(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(Q){var K,J,Y=this._map,X=this._container,V=Y.latLngToContainerPoint(Y.getCenter()),$=Y.layerPointToContainerPoint(Q),W=this.options.direction,G=X.offsetWidth,_=X.offsetHeight,E=M(this.options.offset),D=this._getAnchor();if(W==="top")K=G/2,J=_;else if(W==="bottom")K=G/2,J=0;else if(W==="center")K=G/2,J=_/2;else if(W==="right")K=0,J=_/2;else if(W==="left")K=G,J=_/2;else if($.x<V.x)W="right",K=0,J=_/2;else W="left",K=G+(E.x+D.x)*2,J=_/2;Q=Q.subtract(M(K,J,!0)).add(E).add(D),a(X,"leaflet-tooltip-right"),a(X,"leaflet-tooltip-left"),a(X,"leaflet-tooltip-top"),a(X,"leaflet-tooltip-bottom"),C(X,"leaflet-tooltip-"+W),t(X,Q)},_updatePosition:function(){var Q=this._map.latLngToLayerPoint(this._latlng);this._setPosition(Q)},setOpacity:function(Q){if(this.options.opacity=Q,this._container)W0(this._container,Q)},_animateZoom:function(Q){var K=this._map._latLngToNewLayerPoint(this._latlng,Q.zoom,Q.center);this._setPosition(K)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),d6=function(Q,K){return new CQ(Q,K)};j.include({openTooltip:function(Q,K,J){return this._initOverlay(CQ,Q,K,J).openOn(this),this},closeTooltip:function(Q){return Q.close(),this}}),_0.include({bindTooltip:function(Q,K){if(this._tooltip&&this.isTooltipOpen())this.unbindTooltip();if(this._tooltip=this._initOverlay(CQ,this._tooltip,Q,K),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this))this.openTooltip();return this},unbindTooltip:function(){if(this._tooltip)this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null;return this},_initTooltipInteractions:function(Q){if(!Q&&this._tooltipHandlersAdded)return;var K=Q?"off":"on",J={remove:this.closeTooltip,move:this._moveTooltip};if(!this._tooltip.options.permanent)if(J.mouseover=this._openTooltip,J.mouseout=this.closeTooltip,J.click=this._openTooltip,this._map)this._addFocusListeners();else J.add=this._addFocusListeners;else J.add=this._openTooltip;if(this._tooltip.options.sticky)J.mousemove=this._moveTooltip;this[K](J),this._tooltipHandlersAdded=!Q},openTooltip:function(Q){if(this._tooltip){if(!(this instanceof M0))this._tooltip._source=this;if(this._tooltip._prepareOpen(Q)){if(this._tooltip.openOn(this._map),this.getElement)this._setAriaDescribedByOnLayer(this);else if(this.eachLayer)this.eachLayer(this._setAriaDescribedByOnLayer,this)}}return this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){if(this._tooltip)this._tooltip.toggle(this);return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(Q){if(this._tooltip)this._tooltip.setContent(Q);return this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){if(this.getElement)this._addFocusListenersOnLayer(this);else if(this.eachLayer)this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(Q){var K=typeof Q.getElement==="function"&&Q.getElement();if(K)B(K,"focus",function(){this._tooltip._source=Q,this.openTooltip()},this),B(K,"blur",this.closeTooltip,this)},_setAriaDescribedByOnLayer:function(Q){var K=typeof Q.getElement==="function"&&Q.getElement();if(K)K.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(Q){if(!this._tooltip||!this._map)return;if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var K=this;this._map.once("moveend",function(){K._openOnceFlag=!1,K._openTooltip(Q)});return}this._tooltip._source=Q.layer||Q.target,this.openTooltip(this._tooltip.options.sticky?Q.latlng:void 0)},_moveTooltip:function(Q){var K=Q.latlng,J,Y;if(this._tooltip.options.sticky&&Q.originalEvent)J=this._map.mouseEventToContainerPoint(Q.originalEvent),Y=this._map.containerPointToLayerPoint(J),K=this._map.layerPointToLatLng(Y);this._tooltip.setLatLng(K)}});var H9=p0.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(Q){var K=Q&&Q.tagName==="DIV"?Q:document.createElement("div"),J=this.options;if(J.html instanceof Element)_Q(K),K.appendChild(J.html);else K.innerHTML=J.html!==!1?J.html:"";if(J.bgPos){var Y=M(J.bgPos);K.style.backgroundPosition=-Y.x+"px "+-Y.y+"px"}return this._setIconStyles(K,"icon"),K},createShadow:function(){return null}});function p6(Q){return new H9(Q)}p0.Default=UQ;var $Q=_0.extend({options:{tileSize:256,opacity:1,updateWhenIdle:R.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(Q){h(this,Q)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(Q){Q._addZoomLimit(this)},onRemove:function(Q){this._removeAllTiles(),i(this._container),Q._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){if(this._map)c0(this._container),this._setAutoZIndex(Math.max);return this},bringToBack:function(){if(this._map)m0(this._container),this._setAutoZIndex(Math.min);return this},getContainer:function(){return this._container},setOpacity:function(Q){return this.options.opacity=Q,this._updateOpacity(),this},setZIndex:function(Q){return this.options.zIndex=Q,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var Q=this._clampZoom(this._map.getZoom());if(Q!==this._tileZoom)this._tileZoom=Q,this._updateLevels();this._update()}return this},getEvents:function(){var Q={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};if(!this.options.updateWhenIdle){if(!this._onMove)this._onMove=O(this._onMoveEnd,this.options.updateInterval,this);Q.move=this._onMove}if(this._zoomAnimated)Q.zoomanim=this._animateZoom;return Q},createTile:function(){return document.createElement("div")},getTileSize:function(){var Q=this.options.tileSize;return Q instanceof S?Q:new S(Q,Q)},_updateZIndex:function(){if(this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null)this._container.style.zIndex=this.options.zIndex},_setAutoZIndex:function(Q){var K=this.getPane().children,J=-Q(-1/0,1/0);for(var Y=0,X=K.length,V;Y<X;Y++)if(V=K[Y].style.zIndex,K[Y]!==this._container&&V)J=Q(J,+V);if(isFinite(J))this.options.zIndex=J+Q(-1,1),this._updateZIndex()},_updateOpacity:function(){if(!this._map)return;if(R.ielt9)return;W0(this._container,this.options.opacity);var Q=+new Date,K=!1,J=!1;for(var Y in this._tiles){var X=this._tiles[Y];if(!X.current||!X.loaded)continue;var V=Math.min(1,(Q-X.loaded)/200);if(W0(X.el,V),V<1)K=!0;else{if(X.active)J=!0;else this._onOpaqueTile(X);X.active=!0}}if(J&&!this._noPrune)this._pruneTiles();if(K)m(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this)},_onOpaqueTile:T,_initContainer:function(){if(this._container)return;if(this._container=f("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1)this._updateOpacity();this.getPane().appendChild(this._container)},_updateLevels:function(){var Q=this._tileZoom,K=this.options.maxZoom;if(Q===void 0)return;for(var J in this._levels)if(J=Number(J),this._levels[J].el.children.length||J===Q)this._levels[J].el.style.zIndex=K-Math.abs(Q-J),this._onUpdateLevel(J);else i(this._levels[J].el),this._removeTilesAtZoom(J),this._onRemoveLevel(J),delete this._levels[J];var Y=this._levels[Q],X=this._map;if(!Y)Y=this._levels[Q]={},Y.el=f("div","leaflet-tile-container leaflet-zoom-animated",this._container),Y.el.style.zIndex=K,Y.origin=X.project(X.unproject(X.getPixelOrigin()),Q).round(),Y.zoom=Q,this._setZoomTransform(Y,X.getCenter(),X.getZoom()),T(Y.el.offsetWidth),this._onCreateLevel(Y);return this._level=Y,Y},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(!this._map)return;var Q,K,J=this._map.getZoom();if(J>this.options.maxZoom||J<this.options.minZoom){this._removeAllTiles();return}for(Q in this._tiles)K=this._tiles[Q],K.retain=K.current;for(Q in this._tiles)if(K=this._tiles[Q],K.current&&!K.active){var Y=K.coords;if(!this._retainParent(Y.x,Y.y,Y.z,Y.z-5))this._retainChildren(Y.x,Y.y,Y.z,Y.z+2)}for(Q in this._tiles)if(!this._tiles[Q].retain)this._removeTile(Q)},_removeTilesAtZoom:function(Q){for(var K in this._tiles){if(this._tiles[K].coords.z!==Q)continue;this._removeTile(K)}},_removeAllTiles:function(){for(var Q in this._tiles)this._removeTile(Q)},_invalidateAll:function(){for(var Q in this._levels)i(this._levels[Q].el),this._onRemoveLevel(Number(Q)),delete this._levels[Q];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(Q,K,J,Y){var X=Math.floor(Q/2),V=Math.floor(K/2),$=J-1,W=new S(+X,+V);W.z=+$;var G=this._tileCoordsToKey(W),_=this._tiles[G];if(_&&_.active)return _.retain=!0,!0;else if(_&&_.loaded)_.retain=!0;if($>Y)return this._retainParent(X,V,$,Y);return!1},_retainChildren:function(Q,K,J,Y){for(var X=2*Q;X<2*Q+2;X++)for(var V=2*K;V<2*K+2;V++){var $=new S(X,V);$.z=J+1;var W=this._tileCoordsToKey($),G=this._tiles[W];if(G&&G.active){G.retain=!0;continue}else if(G&&G.loaded)G.retain=!0;if(J+1<Y)this._retainChildren(X,V,J+1,Y)}},_resetView:function(Q){var K=Q&&(Q.pinch||Q.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),K,K)},_animateZoom:function(Q){this._setView(Q.center,Q.zoom,!0,Q.noUpdate)},_clampZoom:function(Q){var K=this.options;if(K.minNativeZoom!==void 0&&Q<K.minNativeZoom)return K.minNativeZoom;if(K.maxNativeZoom!==void 0&&K.maxNativeZoom<Q)return K.maxNativeZoom;return Q},_setView:function(Q,K,J,Y){var X=Math.round(K);if(this.options.maxZoom!==void 0&&X>this.options.maxZoom||this.options.minZoom!==void 0&&X<this.options.minZoom)X=void 0;else X=this._clampZoom(X);var V=this.options.updateWhenZooming&&X!==this._tileZoom;if(!Y||V){if(this._tileZoom=X,this._abortLoading)this._abortLoading();if(this._updateLevels(),this._resetGrid(),X!==void 0)this._update(Q);if(!J)this._pruneTiles();this._noPrune=!!J}this._setZoomTransforms(Q,K)},_setZoomTransforms:function(Q,K){for(var J in this._levels)this._setZoomTransform(this._levels[J],Q,K)},_setZoomTransform:function(Q,K,J){var Y=this._map.getZoomScale(J,Q.zoom),X=Q.origin.multiplyBy(Y).subtract(this._map._getNewPixelOrigin(K,J)).round();if(R.any3d)k0(Q.el,X,Y);else t(Q.el,X)},_resetGrid:function(){var Q=this._map,K=Q.options.crs,J=this._tileSize=this.getTileSize(),Y=this._tileZoom,X=this._map.getPixelWorldBounds(this._tileZoom);if(X)this._globalTileRange=this._pxBoundsToTileRange(X);this._wrapX=K.wrapLng&&!this.options.noWrap&&[Math.floor(Q.project([0,K.wrapLng[0]],Y).x/J.x),Math.ceil(Q.project([0,K.wrapLng[1]],Y).x/J.y)],this._wrapY=K.wrapLat&&!this.options.noWrap&&[Math.floor(Q.project([K.wrapLat[0],0],Y).y/J.x),Math.ceil(Q.project([K.wrapLat[1],0],Y).y/J.y)]},_onMoveEnd:function(){if(!this._map||this._map._animatingZoom)return;this._update()},_getTiledPixelBounds:function(Q){var K=this._map,J=K._animatingZoom?Math.max(K._animateToZoom,K.getZoom()):K.getZoom(),Y=K.getZoomScale(J,this._tileZoom),X=K.project(Q,this._tileZoom).floor(),V=K.getSize().divideBy(Y*2);return new d(X.subtract(V),X.add(V))},_update:function(Q){var K=this._map;if(!K)return;var J=this._clampZoom(K.getZoom());if(Q===void 0)Q=K.getCenter();if(this._tileZoom===void 0)return;var Y=this._getTiledPixelBounds(Q),X=this._pxBoundsToTileRange(Y),V=X.getCenter(),$=[],W=this.options.keepBuffer,G=new d(X.getBottomLeft().subtract([W,-W]),X.getTopRight().add([W,-W]));if(!(isFinite(X.min.x)&&isFinite(X.min.y)&&isFinite(X.max.x)&&isFinite(X.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _ in this._tiles){var E=this._tiles[_].coords;if(E.z!==this._tileZoom||!G.contains(new S(E.x,E.y)))this._tiles[_].current=!1}if(Math.abs(J-this._tileZoom)>1){this._setView(Q,J);return}for(var D=X.min.y;D<=X.max.y;D++)for(var z=X.min.x;z<=X.max.x;z++){var X0=new S(z,D);if(X0.z=this._tileZoom,!this._isValidTile(X0))continue;var Q0=this._tiles[this._tileCoordsToKey(X0)];if(Q0)Q0.current=!0;else $.push(X0)}if($.sort(function($0,s0){return $0.distanceTo(V)-s0.distanceTo(V)}),$.length!==0){if(!this._loading)this._loading=!0,this.fire("loading");var q0=document.createDocumentFragment();for(z=0;z<$.length;z++)this._addTile($[z],q0);this._level.el.appendChild(q0)}},_isValidTile:function(Q){var K=this._map.options.crs;if(!K.infinite){var J=this._globalTileRange;if(!K.wrapLng&&(Q.x<J.min.x||Q.x>J.max.x)||!K.wrapLat&&(Q.y<J.min.y||Q.y>J.max.y))return!1}if(!this.options.bounds)return!0;var Y=this._tileCoordsToBounds(Q);return l(this.options.bounds).overlaps(Y)},_keyToBounds:function(Q){return this._tileCoordsToBounds(this._keyToTileCoords(Q))},_tileCoordsToNwSe:function(Q){var K=this._map,J=this.getTileSize(),Y=Q.scaleBy(J),X=Y.add(J),V=K.unproject(Y,Q.z),$=K.unproject(X,Q.z);return[V,$]},_tileCoordsToBounds:function(Q){var K=this._tileCoordsToNwSe(Q),J=new J0(K[0],K[1]);if(!this.options.noWrap)J=this._map.wrapLatLngBounds(J);return J},_tileCoordsToKey:function(Q){return Q.x+":"+Q.y+":"+Q.z},_keyToTileCoords:function(Q){var K=Q.split(":"),J=new S(+K[0],+K[1]);return J.z=+K[2],J},_removeTile:function(Q){var K=this._tiles[Q];if(!K)return;i(K.el),delete this._tiles[Q],this.fire("tileunload",{tile:K.el,coords:this._keyToTileCoords(Q)})},_initTile:function(Q){C(Q,"leaflet-tile");var K=this.getTileSize();if(Q.style.width=K.x+"px",Q.style.height=K.y+"px",Q.onselectstart=T,Q.onmousemove=T,R.ielt9&&this.options.opacity<1)W0(Q,this.options.opacity)},_addTile:function(Q,K){var J=this._getTilePos(Q),Y=this._tileCoordsToKey(Q),X=this.createTile(this._wrapCoords(Q),Z(this._tileReady,this,Q));if(this._initTile(X),this.createTile.length<2)P(Z(this._tileReady,this,Q,null,X));t(X,J),this._tiles[Y]={el:X,coords:Q,current:!0},K.appendChild(X),this.fire("tileloadstart",{tile:X,coords:Q})},_tileReady:function(Q,K,J){if(K)this.fire("tileerror",{error:K,tile:J,coords:Q});var Y=this._tileCoordsToKey(Q);if(J=this._tiles[Y],!J)return;if(J.loaded=+new Date,this._map._fadeAnimated)W0(J.el,0),m(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this);else J.active=!0,this._pruneTiles();if(!K)C(J.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:J.el,coords:Q});if(this._noTilesToLoad())if(this._loading=!1,this.fire("load"),R.ielt9||!this._map._fadeAnimated)P(this._pruneTiles,this);else setTimeout(Z(this._pruneTiles,this),250)},_getTilePos:function(Q){return Q.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(Q){var K=new S(this._wrapX?v(Q.x,this._wrapX):Q.x,this._wrapY?v(Q.y,this._wrapY):Q.y);return K.z=Q.z,K},_pxBoundsToTileRange:function(Q){var K=this.getTileSize();return new d(Q.min.unscaleBy(K).floor(),Q.max.unscaleBy(K).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var Q in this._tiles)if(!this._tiles[Q].loaded)return!1;return!0}});function l6(Q){return new $Q(Q)}var r0=$Q.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(Q,K){if(this._url=Q,K=h(this,K),K.detectRetina&&R.retina&&K.maxZoom>0){if(K.tileSize=Math.floor(K.tileSize/2),!K.zoomReverse)K.zoomOffset++,K.maxZoom=Math.max(K.minZoom,K.maxZoom-1);else K.zoomOffset--,K.minZoom=Math.min(K.maxZoom,K.minZoom+1);K.minZoom=Math.max(0,K.minZoom)}else if(!K.zoomReverse)K.maxZoom=Math.max(K.minZoom,K.maxZoom);else K.minZoom=Math.min(K.maxZoom,K.minZoom);if(typeof K.subdomains==="string")K.subdomains=K.subdomains.split("");this.on("tileunload",this._onTileRemove)},setUrl:function(Q,K){if(this._url===Q&&K===void 0)K=!0;if(this._url=Q,!K)this.redraw();return this},createTile:function(Q,K){var J=document.createElement("img");if(B(J,"load",Z(this._tileOnLoad,this,K,J)),B(J,"error",Z(this._tileOnError,this,K,J)),this.options.crossOrigin||this.options.crossOrigin==="")J.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin;if(typeof this.options.referrerPolicy==="string")J.referrerPolicy=this.options.referrerPolicy;return J.alt="",J.src=this.getTileUrl(Q),J},getTileUrl:function(Q){var K={r:R.retina?"@2x":"",s:this._getSubdomain(Q),x:Q.x,y:Q.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var J=this._globalTileRange.max.y-Q.y;if(this.options.tms)K.y=J;K["-y"]=J}return Z0(this._url,q(K,this.options))},_tileOnLoad:function(Q,K){if(R.ielt9)setTimeout(Z(Q,this,null,K),0);else Q(null,K)},_tileOnError:function(Q,K,J){var Y=this.options.errorTileUrl;if(Y&&K.getAttribute("src")!==Y)K.src=Y;Q(J,K)},_onTileRemove:function(Q){Q.tile.onload=null},_getZoomForUrl:function(){var Q=this._tileZoom,K=this.options.maxZoom,J=this.options.zoomReverse,Y=this.options.zoomOffset;if(J)Q=K-Q;return Q+Y},_getSubdomain:function(Q){var K=Math.abs(Q.x+Q.y)%this.options.subdomains.length;return this.options.subdomains[K]},_abortLoading:function(){var Q,K;for(Q in this._tiles)if(this._tiles[Q].coords.z!==this._tileZoom){if(K=this._tiles[Q].el,K.onload=T,K.onerror=T,!K.complete){K.src=E0;var J=this._tiles[Q].coords;i(K),delete this._tiles[Q],this.fire("tileabort",{tile:K,coords:J})}}},_removeTile:function(Q){var K=this._tiles[Q];if(!K)return;return K.el.setAttribute("src",E0),$Q.prototype._removeTile.call(this,Q)},_tileReady:function(Q,K,J){if(!this._map||J&&J.getAttribute("src")===E0)return;return $Q.prototype._tileReady.call(this,Q,K,J)}});function _9(Q,K){return new r0(Q,K)}var Z9=r0.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(Q,K){this._url=Q;var J=q({},this.defaultWmsParams);for(var Y in K)if(!(Y in this.options))J[Y]=K[Y];K=h(this,K);var X=K.detectRetina&&R.retina?2:1,V=this.getTileSize();J.width=V.x*X,J.height=V.y*X,this.wmsParams=J},onAdd:function(Q){this._crs=this.options.crs||Q.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var K=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[K]=this._crs.code,r0.prototype.onAdd.call(this,Q)},getTileUrl:function(Q){var K=this._tileCoordsToNwSe(Q),J=this._crs,Y=K0(J.project(K[0]),J.project(K[1])),X=Y.min,V=Y.max,$=(this._wmsVersion>=1.3&&this._crs===V9?[X.y,X.x,V.y,V.x]:[X.x,X.y,V.x,V.y]).join(","),W=r0.prototype.getTileUrl.call(this,Q);return W+r(this.wmsParams,W,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(Q,K){if(q(this.wmsParams,Q),!K)this.redraw();return this}});function i6(Q,K){return new Z9(Q,K)}r0.WMS=Z9,_9.wms=i6;var B0=_0.extend({options:{padding:0.1},initialize:function(Q){h(this,Q),A(this),this._layers=this._layers||{}},onAdd:function(){if(!this._container)this._initContainer(),C(this._container,"leaflet-zoom-animated");this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var Q={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};if(this._zoomAnimated)Q.zoomanim=this._onAnimZoom;return Q},_onAnimZoom:function(Q){this._updateTransform(Q.center,Q.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(Q,K){var J=this._map.getZoomScale(K,this._zoom),Y=this._map.getSize().multiplyBy(0.5+this.options.padding),X=this._map.project(this._center,K),V=Y.multiplyBy(-J).add(X).subtract(this._map._getNewPixelOrigin(Q,K));if(R.any3d)k0(this._container,V,J);else t(this._container,V)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var Q in this._layers)this._layers[Q]._reset()},_onZoomEnd:function(){for(var Q in this._layers)this._layers[Q]._project()},_updatePaths:function(){for(var Q in this._layers)this._layers[Q]._update()},_update:function(){var Q=this.options.padding,K=this._map.getSize(),J=this._map.containerPointToLayerPoint(K.multiplyBy(-Q)).round();this._bounds=new d(J,J.add(K.multiplyBy(1+Q*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),E9=B0.extend({options:{tolerance:0},getEvents:function(){var Q=B0.prototype.getEvents.call(this);return Q.viewprereset=this._onViewPreReset,Q},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){B0.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var Q=this._container=document.createElement("canvas");B(Q,"mousemove",this._onMouseMove,this),B(Q,"click dblclick mousedown mouseup contextmenu",this._onClick,this),B(Q,"mouseout",this._handleMouseOut,this),Q._leaflet_disable_events=!0,this._ctx=Q.getContext("2d")},_destroyContainer:function(){m(this._redrawRequest),delete this._ctx,i(this._container),p(this._container),delete this._container},_updatePaths:function(){if(this._postponeUpdatePaths)return;var Q;this._redrawBounds=null;for(var K in this._layers)Q=this._layers[K],Q._update();this._redraw()},_update:function(){if(this._map._animatingZoom&&this._bounds)return;B0.prototype._update.call(this);var Q=this._bounds,K=this._container,J=Q.getSize(),Y=R.retina?2:1;if(t(K,Q.min),K.width=Y*J.x,K.height=Y*J.y,K.style.width=J.x+"px",K.style.height=J.y+"px",R.retina)this._ctx.scale(2,2);this._ctx.translate(-Q.min.x,-Q.min.y),this.fire("update")},_reset:function(){if(B0.prototype._reset.call(this),this._postponeUpdatePaths)this._postponeUpdatePaths=!1,this._updatePaths()},_initPath:function(Q){this._updateDashArray(Q),this._layers[A(Q)]=Q;var K=Q._order={layer:Q,prev:this._drawLast,next:null};if(this._drawLast)this._drawLast.next=K;this._drawLast=K,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(Q){this._requestRedraw(Q)},_removePath:function(Q){var K=Q._order,J=K.next,Y=K.prev;if(J)J.prev=Y;else this._drawLast=Y;if(Y)Y.next=J;else this._drawFirst=J;delete Q._order,delete this._layers[A(Q)],this._requestRedraw(Q)},_updatePath:function(Q){this._extendRedrawBounds(Q),Q._project(),Q._update(),this._requestRedraw(Q)},_updateStyle:function(Q){this._updateDashArray(Q),this._requestRedraw(Q)},_updateDashArray:function(Q){if(typeof Q.options.dashArray==="string"){var K=Q.options.dashArray.split(/[, ]+/),J=[],Y,X;for(X=0;X<K.length;X++){if(Y=Number(K[X]),isNaN(Y))return;J.push(Y)}Q.options._dashArray=J}else Q.options._dashArray=Q.options.dashArray},_requestRedraw:function(Q){if(!this._map)return;this._extendRedrawBounds(Q),this._redrawRequest=this._redrawRequest||P(this._redraw,this)},_extendRedrawBounds:function(Q){if(Q._pxBounds){var K=(Q.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new d,this._redrawBounds.extend(Q._pxBounds.min.subtract([K,K])),this._redrawBounds.extend(Q._pxBounds.max.add([K,K]))}},_redraw:function(){if(this._redrawRequest=null,this._redrawBounds)this._redrawBounds.min._floor(),this._redrawBounds.max._ceil();this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var Q=this._redrawBounds;if(Q){var K=Q.getSize();this._ctx.clearRect(Q.min.x,Q.min.y,K.x,K.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var Q,K=this._redrawBounds;if(this._ctx.save(),K){var J=K.getSize();this._ctx.beginPath(),this._ctx.rect(K.min.x,K.min.y,J.x,J.y),this._ctx.clip()}this._drawing=!0;for(var Y=this._drawFirst;Y;Y=Y.next)if(Q=Y.layer,!K||Q._pxBounds&&Q._pxBounds.intersects(K))Q._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(Q,K){if(!this._drawing)return;var J,Y,X,V,$=Q._parts,W=$.length,G=this._ctx;if(!W)return;G.beginPath();for(J=0;J<W;J++){for(Y=0,X=$[J].length;Y<X;Y++)V=$[J][Y],G[Y?"lineTo":"moveTo"](V.x,V.y);if(K)G.closePath()}this._fillStroke(G,Q)},_updateCircle:function(Q){if(!this._drawing||Q._empty())return;var K=Q._point,J=this._ctx,Y=Math.max(Math.round(Q._radius),1),X=(Math.max(Math.round(Q._radiusY),1)||Y)/Y;if(X!==1)J.save(),J.scale(1,X);if(J.beginPath(),J.arc(K.x,K.y/X,Y,0,Math.PI*2,!1),X!==1)J.restore();this._fillStroke(J,Q)},_fillStroke:function(Q,K){var J=K.options;if(J.fill)Q.globalAlpha=J.fillOpacity,Q.fillStyle=J.fillColor||J.color,Q.fill(J.fillRule||"evenodd");if(J.stroke&&J.weight!==0){if(Q.setLineDash)Q.setLineDash(K.options&&K.options._dashArray||[]);Q.globalAlpha=J.opacity,Q.lineWidth=J.weight,Q.strokeStyle=J.color,Q.lineCap=J.lineCap,Q.lineJoin=J.lineJoin,Q.stroke()}},_onClick:function(Q){var K=this._map.mouseEventToLayerPoint(Q),J,Y;for(var X=this._drawFirst;X;X=X.next)if(J=X.layer,J.options.interactive&&J._containsPoint(K)){if(!(Q.type==="click"||Q.type==="preclick")||!this._map._draggableMoved(J))Y=J}this._fireEvent(Y?[Y]:!1,Q)},_onMouseMove:function(Q){if(!this._map||this._map.dragging.moving()||this._map._animatingZoom)return;var K=this._map.mouseEventToLayerPoint(Q);this._handleMouseHover(Q,K)},_handleMouseOut:function(Q){var K=this._hoveredLayer;if(K)a(this._container,"leaflet-interactive"),this._fireEvent([K],Q,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1},_handleMouseHover:function(Q,K){if(this._mouseHoverThrottled)return;var J,Y;for(var X=this._drawFirst;X;X=X.next)if(J=X.layer,J.options.interactive&&J._containsPoint(K))Y=J;if(Y!==this._hoveredLayer){if(this._handleMouseOut(Q),Y)C(this._container,"leaflet-interactive"),this._fireEvent([Y],Q,"mouseover"),this._hoveredLayer=Y}this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,Q),this._mouseHoverThrottled=!0,setTimeout(Z(function(){this._mouseHoverThrottled=!1},this),32)},_fireEvent:function(Q,K,J){this._map._fireDOMEvent(K,J||K.type,Q)},_bringToFront:function(Q){var K=Q._order;if(!K)return;var{next:J,prev:Y}=K;if(J)J.prev=Y;else return;if(Y)Y.next=J;else if(J)this._drawFirst=J;K.prev=this._drawLast,this._drawLast.next=K,K.next=null,this._drawLast=K,this._requestRedraw(Q)},_bringToBack:function(Q){var K=Q._order;if(!K)return;var{next:J,prev:Y}=K;if(Y)Y.next=J;else return;if(J)J.prev=Y;else if(Y)this._drawLast=Y;K.prev=null,K.next=this._drawFirst,this._drawFirst.prev=K,this._drawFirst=K,this._requestRedraw(Q)}});function I9(Q){return R.canvas?new E9(Q):null}var WQ=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(Q){return document.createElement("<lvml:"+Q+' class="lvml">')}}catch(Q){}return function(Q){return document.createElement("<"+Q+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),r6={_initContainer:function(){this._container=f("div","leaflet-vml-container")},_update:function(){if(this._map._animatingZoom)return;B0.prototype._update.call(this),this.fire("update")},_initPath:function(Q){var K=Q._container=WQ("shape");C(K,"leaflet-vml-shape "+(this.options.className||"")),K.coordsize="1 1",Q._path=WQ("path"),K.appendChild(Q._path),this._updateStyle(Q),this._layers[A(Q)]=Q},_addPath:function(Q){var K=Q._container;if(this._container.appendChild(K),Q.options.interactive)Q.addInteractiveTarget(K)},_removePath:function(Q){var K=Q._container;i(K),Q.removeInteractiveTarget(K),delete this._layers[A(Q)]},_updateStyle:function(Q){var{_stroke:K,_fill:J,options:Y,_container:X}=Q;if(X.stroked=!!Y.stroke,X.filled=!!Y.fill,Y.stroke){if(!K)K=Q._stroke=WQ("stroke");if(X.appendChild(K),K.weight=Y.weight+"px",K.color=Y.color,K.opacity=Y.opacity,Y.dashArray)K.dashStyle=s(Y.dashArray)?Y.dashArray.join(" "):Y.dashArray.replace(/( *, *)/g," ");else K.dashStyle="";K.endcap=Y.lineCap.replace("butt","flat"),K.joinstyle=Y.lineJoin}else if(K)X.removeChild(K),Q._stroke=null;if(Y.fill){if(!J)J=Q._fill=WQ("fill");X.appendChild(J),J.color=Y.fillColor||Y.color,J.opacity=Y.fillOpacity}else if(J)X.removeChild(J),Q._fill=null},_updateCircle:function(Q){var K=Q._point.round(),J=Math.round(Q._radius),Y=Math.round(Q._radiusY||J);this._setPath(Q,Q._empty()?"M0 0":"AL "+K.x+","+K.y+" "+J+","+Y+" 0,23592600")},_setPath:function(Q,K){Q._path.v=K},_bringToFront:function(Q){c0(Q._container)},_bringToBack:function(Q){m0(Q._container)}},wQ=R.vml?WQ:F8,GQ=B0.extend({_initContainer:function(){this._container=wQ("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wQ("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){i(this._container),p(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(this._map._animatingZoom&&this._bounds)return;B0.prototype._update.call(this);var Q=this._bounds,K=Q.getSize(),J=this._container;if(!this._svgSize||!this._svgSize.equals(K))this._svgSize=K,J.setAttribute("width",K.x),J.setAttribute("height",K.y);t(J,Q.min),J.setAttribute("viewBox",[Q.min.x,Q.min.y,K.x,K.y].join(" ")),this.fire("update")},_initPath:function(Q){var K=Q._path=wQ("path");if(Q.options.className)C(K,Q.options.className);if(Q.options.interactive)C(K,"leaflet-interactive");this._updateStyle(Q),this._layers[A(Q)]=Q},_addPath:function(Q){if(!this._rootGroup)this._initContainer();this._rootGroup.appendChild(Q._path),Q.addInteractiveTarget(Q._path)},_removePath:function(Q){i(Q._path),Q.removeInteractiveTarget(Q._path),delete this._layers[A(Q)]},_updatePath:function(Q){Q._project(),Q._update()},_updateStyle:function(Q){var{_path:K,options:J}=Q;if(!K)return;if(J.stroke){if(K.setAttribute("stroke",J.color),K.setAttribute("stroke-opacity",J.opacity),K.setAttribute("stroke-width",J.weight),K.setAttribute("stroke-linecap",J.lineCap),K.setAttribute("stroke-linejoin",J.lineJoin),J.dashArray)K.setAttribute("stroke-dasharray",J.dashArray);else K.removeAttribute("stroke-dasharray");if(J.dashOffset)K.setAttribute("stroke-dashoffset",J.dashOffset);else K.removeAttribute("stroke-dashoffset")}else K.setAttribute("stroke","none");if(J.fill)K.setAttribute("fill",J.fillColor||J.color),K.setAttribute("fill-opacity",J.fillOpacity),K.setAttribute("fill-rule",J.fillRule||"evenodd");else K.setAttribute("fill","none")},_updatePoly:function(Q,K){this._setPath(Q,D8(Q._parts,K))},_updateCircle:function(Q){var K=Q._point,J=Math.max(Math.round(Q._radius),1),Y=Math.max(Math.round(Q._radiusY),1)||J,X="a"+J+","+Y+" 0 1,0 ",V=Q._empty()?"M0 0":"M"+(K.x-J)+","+K.y+X+J*2+",0 "+X+-J*2+",0 ";this._setPath(Q,V)},_setPath:function(Q,K){Q._path.setAttribute("d",K)},_bringToFront:function(Q){c0(Q._path)},_bringToBack:function(Q){m0(Q._path)}});if(R.vml)GQ.include(r6);function A9(Q){return R.svg||R.vml?new GQ(Q):null}j.include({getRenderer:function(Q){var K=Q.options.renderer||this._getPaneRenderer(Q.options.pane)||this.options.renderer||this._renderer;if(!K)K=this._renderer=this._createRenderer();if(!this.hasLayer(K))this.addLayer(K);return K},_getPaneRenderer:function(Q){if(Q==="overlayPane"||Q===void 0)return!1;var K=this._paneRenderers[Q];if(K===void 0)K=this._createRenderer({pane:Q}),this._paneRenderers[Q]=K;return K},_createRenderer:function(Q){return this.options.preferCanvas&&I9(Q)||A9(Q)}});var N9=l0.extend({initialize:function(Q,K){l0.prototype.initialize.call(this,this._boundsToLatLngs(Q),K)},setBounds:function(Q){return this.setLatLngs(this._boundsToLatLngs(Q))},_boundsToLatLngs:function(Q){return Q=l(Q),[Q.getSouthWest(),Q.getNorthWest(),Q.getNorthEast(),Q.getSouthEast()]}});function s6(Q,K){return new N9(Q,K)}GQ.create=wQ,GQ.pointsToPath=D8,O0.geometryToLayer=DQ,O0.coordsToLatLng=G8,O0.coordsToLatLngs=TQ,O0.latLngToCoords=q8,O0.latLngsToCoords=MQ,O0.getFeature=i0,O0.asFeature=SQ,j.mergeOptions({boxZoom:!0});var R9=N0.extend({initialize:function(Q){this._map=Q,this._container=Q._container,this._pane=Q._panes.overlayPane,this._resetStateTimeout=0,Q.on("unload",this._destroy,this)},addHooks:function(){B(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){p(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){i(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){if(this._resetStateTimeout!==0)clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0},_onMouseDown:function(Q){if(!Q.shiftKey||Q.which!==1&&Q.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),QQ(),iQ(),this._startPoint=this._map.mouseEventToContainerPoint(Q),B(document,{contextmenu:L0,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(Q){if(!this._moved)this._moved=!0,this._box=f("div","leaflet-zoom-box",this._container),C(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart");this._point=this._map.mouseEventToContainerPoint(Q);var K=new d(this._point,this._startPoint),J=K.getSize();t(this._box,K.min),this._box.style.width=J.x+"px",this._box.style.height=J.y+"px"},_finish:function(){if(this._moved)i(this._box),a(this._container,"leaflet-crosshair");KQ(),rQ(),p(document,{contextmenu:L0,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(Q){if(Q.which!==1&&Q.button!==1)return;if(this._finish(),!this._moved)return;this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Z(this._resetState,this),0);var K=new J0(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(K).fire("boxzoomend",{boxZoomBounds:K})},_onKeyDown:function(Q){if(Q.keyCode===27)this._finish(),this._clearDeferredResetState(),this._resetState()}});j.addInitHook("addHandler","boxZoom",R9),j.mergeOptions({doubleClickZoom:!0});var F9=N0.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(Q){var K=this._map,J=K.getZoom(),Y=K.options.zoomDelta,X=Q.originalEvent.shiftKey?J-Y:J+Y;if(K.options.doubleClickZoom==="center")K.setZoom(X);else K.setZoomAround(Q.containerPoint,X)}});j.addInitHook("addHandler","doubleClickZoom",F9),j.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:0.2,worldCopyJump:!1,maxBoundsViscosity:0});var D9=N0.extend({addHooks:function(){if(!this._draggable){var Q=this._map;if(this._draggable=new h0(Q._mapPane,Q._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),Q.options.worldCopyJump)this._draggable.on("predrag",this._onPreDragWrap,this),Q.on("zoomend",this._onZoomEnd,this),Q.whenReady(this._onZoomEnd,this)}C(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){a(this._map._container,"leaflet-grab"),a(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var Q=this._map;if(Q._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var K=l(this._map.options.maxBounds);this._offsetLimit=K0(this._map.latLngToContainerPoint(K.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(K.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;if(Q.fire("movestart").fire("dragstart"),Q.options.inertia)this._positions=[],this._times=[]},_onDrag:function(Q){if(this._map.options.inertia){var K=this._lastTime=+new Date,J=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(J),this._times.push(K),this._prunePositions(K)}this._map.fire("move",Q).fire("drag",Q)},_prunePositions:function(Q){while(this._positions.length>1&&Q-this._times[0]>50)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var Q=this._map.getSize().divideBy(2),K=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=K.subtract(Q).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(Q,K){return Q-(Q-K)*this._viscosity},_onPreDragLimit:function(){if(!this._viscosity||!this._offsetLimit)return;var Q=this._draggable._newPos.subtract(this._draggable._startPos),K=this._offsetLimit;if(Q.x<K.min.x)Q.x=this._viscousLimit(Q.x,K.min.x);if(Q.y<K.min.y)Q.y=this._viscousLimit(Q.y,K.min.y);if(Q.x>K.max.x)Q.x=this._viscousLimit(Q.x,K.max.x);if(Q.y>K.max.y)Q.y=this._viscousLimit(Q.y,K.max.y);this._draggable._newPos=this._draggable._startPos.add(Q)},_onPreDragWrap:function(){var Q=this._worldWidth,K=Math.round(Q/2),J=this._initialWorldOffset,Y=this._draggable._newPos.x,X=(Y-K+J)%Q+K-J,V=(Y+K+J)%Q-K-J,$=Math.abs(X+J)<Math.abs(V+J)?X:V;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(Q){var K=this._map,J=K.options,Y=!J.inertia||Q.noInertia||this._times.length<2;if(K.fire("dragend",Q),Y)K.fire("moveend");else{this._prunePositions(+new Date);var X=this._lastPos.subtract(this._positions[0]),V=(this._lastTime-this._times[0])/1000,$=J.easeLinearity,W=X.multiplyBy($/V),G=W.distanceTo([0,0]),_=Math.min(J.inertiaMaxSpeed,G),E=W.multiplyBy(_/G),D=_/(J.inertiaDeceleration*$),z=E.multiplyBy(-D/2).round();if(!z.x&&!z.y)K.fire("moveend");else z=K._limitOffset(z,K.options.maxBounds),P(function(){K.panBy(z,{duration:D,easeLinearity:$,noMoveStart:!0,animate:!0})})}}});j.addInitHook("addHandler","dragging",D9),j.mergeOptions({keyboard:!0,keyboardPanDelta:80});var T9=N0.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(Q){this._map=Q,this._setPanDelta(Q.options.keyboardPanDelta),this._setZoomDelta(Q.options.zoomDelta)},addHooks:function(){var Q=this._map._container;if(Q.tabIndex<=0)Q.tabIndex="0";B(Q,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),p(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(this._focused)return;var{body:Q,documentElement:K}=document,J=Q.scrollTop||K.scrollTop,Y=Q.scrollLeft||K.scrollLeft;this._map._container.focus(),window.scrollTo(Y,J)},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(Q){var K=this._panKeys={},J=this.keyCodes,Y,X;for(Y=0,X=J.left.length;Y<X;Y++)K[J.left[Y]]=[-1*Q,0];for(Y=0,X=J.right.length;Y<X;Y++)K[J.right[Y]]=[Q,0];for(Y=0,X=J.down.length;Y<X;Y++)K[J.down[Y]]=[0,Q];for(Y=0,X=J.up.length;Y<X;Y++)K[J.up[Y]]=[0,-1*Q]},_setZoomDelta:function(Q){var K=this._zoomKeys={},J=this.keyCodes,Y,X;for(Y=0,X=J.zoomIn.length;Y<X;Y++)K[J.zoomIn[Y]]=Q;for(Y=0,X=J.zoomOut.length;Y<X;Y++)K[J.zoomOut[Y]]=-Q},_addHooks:function(){B(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){p(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(Q){if(Q.altKey||Q.ctrlKey||Q.metaKey)return;var K=Q.keyCode,J=this._map,Y;if(K in this._panKeys){if(!J._panAnim||!J._panAnim._inProgress){if(Y=this._panKeys[K],Q.shiftKey)Y=M(Y).multiplyBy(3);if(J.options.maxBounds)Y=J._limitOffset(M(Y),J.options.maxBounds);if(J.options.worldCopyJump){var X=J.wrapLatLng(J.unproject(J.project(J.getCenter()).add(Y)));J.panTo(X)}else J.panBy(Y)}}else if(K in this._zoomKeys)J.setZoom(J.getZoom()+(Q.shiftKey?3:1)*this._zoomKeys[K]);else if(K===27&&J._popup&&J._popup.options.closeOnEscapeKey)J.closePopup();else return;L0(Q)}});j.addInitHook("addHandler","keyboard",T9),j.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var M9=N0.extend({addHooks:function(){B(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){p(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(Q){var K=i8(Q),J=this._map.options.wheelDebounceTime;if(this._delta+=K,this._lastMousePos=this._map.mouseEventToContainerPoint(Q),!this._startTime)this._startTime=+new Date;var Y=Math.max(J-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Z(this._performZoom,this),Y),L0(Q)},_performZoom:function(){var Q=this._map,K=Q.getZoom(),J=this._map.options.zoomSnap||0;Q._stop();var Y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),X=4*Math.log(2/(1+Math.exp(-Math.abs(Y))))/Math.LN2,V=J?Math.ceil(X/J)*J:X,$=Q._limitZoom(K+(this._delta>0?V:-V))-K;if(this._delta=0,this._startTime=null,!$)return;if(Q.options.scrollWheelZoom==="center")Q.setZoom(K+$);else Q.setZoomAround(this._lastMousePos,K+$)}});j.addInitHook("addHandler","scrollWheelZoom",M9);var a6=600;j.mergeOptions({tapHold:R.touchNative&&R.safari&&R.mobile,tapTolerance:15});var S9=N0.extend({addHooks:function(){B(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){p(this._map._container,"touchstart",this._onDown,this)},_onDown:function(Q){if(clearTimeout(this._holdTimeout),Q.touches.length!==1)return;var K=Q.touches[0];this._startPos=this._newPos=new S(K.clientX,K.clientY),this._holdTimeout=setTimeout(Z(function(){if(this._cancel(),!this._isTapValid())return;B(document,"touchend",Y0),B(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",K)},this),a6),B(document,"touchend touchcancel contextmenu",this._cancel,this),B(document,"touchmove",this._onMove,this)},_cancelClickPrevent:function Q(){p(document,"touchend",Y0),p(document,"touchend touchcancel",Q)},_cancel:function(){clearTimeout(this._holdTimeout),p(document,"touchend touchcancel contextmenu",this._cancel,this),p(document,"touchmove",this._onMove,this)},_onMove:function(Q){var K=Q.touches[0];this._newPos=new S(K.clientX,K.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(Q,K){var J=new MouseEvent(Q,{bubbles:!0,cancelable:!0,view:window,screenX:K.screenX,screenY:K.screenY,clientX:K.clientX,clientY:K.clientY});J._simulated=!0,K.target.dispatchEvent(J)}});j.addInitHook("addHandler","tapHold",S9),j.mergeOptions({touchZoom:R.touch,bounceAtZoomLimits:!0});var O9=N0.extend({addHooks:function(){C(this._map._container,"leaflet-touch-zoom"),B(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){a(this._map._container,"leaflet-touch-zoom"),p(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(Q){var K=this._map;if(!Q.touches||Q.touches.length!==2||K._animatingZoom||this._zooming)return;var J=K.mouseEventToContainerPoint(Q.touches[0]),Y=K.mouseEventToContainerPoint(Q.touches[1]);if(this._centerPoint=K.getSize()._divideBy(2),this._startLatLng=K.containerPointToLatLng(this._centerPoint),K.options.touchZoom!=="center")this._pinchStartLatLng=K.containerPointToLatLng(J.add(Y)._divideBy(2));this._startDist=J.distanceTo(Y),this._startZoom=K.getZoom(),this._moved=!1,this._zooming=!0,K._stop(),B(document,"touchmove",this._onTouchMove,this),B(document,"touchend touchcancel",this._onTouchEnd,this),Y0(Q)},_onTouchMove:function(Q){if(!Q.touches||Q.touches.length!==2||!this._zooming)return;var K=this._map,J=K.mouseEventToContainerPoint(Q.touches[0]),Y=K.mouseEventToContainerPoint(Q.touches[1]),X=J.distanceTo(Y)/this._startDist;if(this._zoom=K.getScaleZoom(X,this._startZoom),!K.options.bounceAtZoomLimits&&(this._zoom<K.getMinZoom()&&X<1||this._zoom>K.getMaxZoom()&&X>1))this._zoom=K._limitZoom(this._zoom);if(K.options.touchZoom==="center"){if(this._center=this._startLatLng,X===1)return}else{var V=J._add(Y)._divideBy(2)._subtract(this._centerPoint);if(X===1&&V.x===0&&V.y===0)return;this._center=K.unproject(K.project(this._pinchStartLatLng,this._zoom).subtract(V),this._zoom)}if(!this._moved)K._moveStart(!0,!1),this._moved=!0;m(this._animRequest);var $=Z(K._move,K,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=P($,this,!0),Y0(Q)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}if(this._zooming=!1,m(this._animRequest),p(document,"touchmove",this._onTouchMove,this),p(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation)this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap);else this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});j.addInitHook("addHandler","touchZoom",O9),j.BoxZoom=R9,j.DoubleClickZoom=F9,j.Drag=D9,j.Keyboard=T9,j.ScrollWheelZoom=M9,j.TapHold=S9,j.TouchZoom=O9,U.Bounds=d,U.Browser=R,U.CRS=T0,U.Canvas=E9,U.Circle=W8,U.CircleMarker=FQ,U.Class=y,U.Control=H0,U.DivIcon=H9,U.DivOverlay=R0,U.DomEvent=Z6,U.DomUtil=H6,U.Draggable=h0,U.Evented=D0,U.FeatureGroup=M0,U.GeoJSON=O0,U.GridLayer=$Q,U.Handler=N0,U.Icon=p0,U.ImageOverlay=OQ,U.LatLng=c,U.LatLngBounds=J0,U.Layer=_0,U.LayerGroup=d0,U.LineUtil=C6,U.Map=j,U.Marker=RQ,U.Mixin=D6,U.Path=P0,U.Point=S,U.PolyUtil=T6,U.Polygon=l0,U.Polyline=S0,U.Popup=BQ,U.PosAnimation=r8,U.Projection=w6,U.Rectangle=N9,U.Renderer=B0,U.SVG=GQ,U.SVGOverlay=q9,U.TileLayer=r0,U.Tooltip=CQ,U.Transformation=LQ,U.Util=u0,U.VideoOverlay=G9,U.bind=Z,U.bounds=K0,U.canvas=I9,U.circle=x6,U.circleMarker=L6,U.control=XQ,U.divIcon=p6,U.extend=q,U.featureGroup=k6,U.geoJSON=W9,U.geoJson=g6,U.gridLayer=l6,U.icon=j6,U.imageOverlay=u6,U.latLng=k,U.latLngBounds=l,U.layerGroup=P6,U.map=E6,U.marker=v6,U.point=M,U.polygon=b6,U.polyline=f6,U.popup=m6,U.rectangle=s6,U.setOptions=h,U.stamp=A,U.svg=A9,U.svgOverlay=c6,U.tileLayer=_9,U.tooltip=d6,U.transformation=n0,U.version=H,U.videoOverlay=y6;var n6=window.L;U.noConflict=function(){return window.L=n6,this},window.L=U})});function hQ(U,H){return U.lat>=H.minLat&&U.lat<=H.maxLat&&U.lng>=H.minLng&&U.lng<=H.maxLng}function Z8(U,H=!0){return H7(U,(q)=>q.position,H)}function E8(U){for(let H=1,q,N,Z,w=U.length;H<w;++H){N=U[H],Z=N.position.lng;for(q=H-1;q>=0&&U[q].position.lng>Z;--q)U[q+1]=U[q];U[q+1]=N}}function q7(U,H){if(H>300)return!1;else return H/U<0.2}function H7(U,H,q=!0){if(!U||U.length===0)return null;let N=Number.MAX_VALUE,Z=-Number.MAX_VALUE,w=Number.MAX_VALUE,A=-Number.MAX_VALUE;for(let O=0,v=U.length;O<v;++O){const T=U[O];if(!q&&T.filtered)continue;const x=H(T);if(x.lat<N)N=x.lat;if(x.lat>Z)Z=x.lat;if(x.lng<w)w=x.lng;if(x.lng>A)A=x.lng}return{minLat:N,maxLat:Z,minLng:w,maxLng:A}}class I8{Project;UnProject;Size=166;ViewPadding=0.2;_markers=[];_clusters=[];_nbChanges=0;position;SortMarkers(){if(this._nbChanges){try{console.log(`Sorting ${this._markers.length} markers`),console.log(this._markers),this._markers.sort((U,H)=>{let q=U.position.lng-H.position.lng;return console.log(`ClusterMarkers: ${U.position.lng} - ${H.position.lng} = ${q}`),console.log(U,H),q})}catch(U){console.error(U)}this._nbChanges=0}}SortClusters(){E8(this._clusters)}IndexLowerBoundLng(U){return this._markers.findIndex((H)=>H.position.lng>=U)}ResetClusterViews(){this._clusters.forEach((U)=>U.Reset())}GetExtendedBounds(U){const H=Math.abs(U.maxLat-U.minLat)*this.ViewPadding,q=Math.abs(U.maxLng-U.minLng)*this.ViewPadding;return{minLat:U.minLat-H,maxLat:U.maxLat+H,minLng:U.minLng-q,maxLng:U.maxLng+q}}}var P9=I8;var f0=Math.pow(2,53)-1;class A8{static hashCodeCounter=1;static getHashCode(){const U=this.hashCodeCounter;if(this.hashCodeCounter++,U>=f0)this.hashCodeCounter=1;return U}}var k9=A8;class C0{bounds={minLat:0,maxLat:0,minLng:0,maxLng:0};population;position;data;hashCode;filtered;weight;category;_removeFlag;averagePosition={lat:0,lng:0};stats=[];totalWeight;lastMarker;static ENABLE_MARKERS_LIST=!1;_clusterMarkers;markers;constructor(U){if(this.stats=[0,0,0,0,0,0,0,0],this.data={},!U){if(this.hashCode=1,C0.ENABLE_MARKERS_LIST)this._clusterMarkers=[];return}if(C0.ENABLE_MARKERS_LIST)this._clusterMarkers=[U];if(this.lastMarker=U,this.hashCode=31+U.hashCode,this.population=1,U.category!==void 0)this.stats[U.category]=1;if(this.totalWeight=U.weight,!U.position)throw new Error(`position is required: ${JSON.stringify(U)}`);this.position={lat:U.position.lat,lng:U.position.lng},this.averagePosition={lat:U.position.lat,lng:U.position.lng},this.bounds={minLat:U.position.lat,maxLat:U.position.lat,minLng:U.position.lng,maxLng:U.position.lng}}AddMarker(U){if(C0.ENABLE_MARKERS_LIST)this._clusterMarkers.push(U);let H=this.hashCode;if(H=(H<<5)-H+U.hashCode,H>=f0)this.hashCode=H%f0;else this.hashCode=H;this.lastMarker=U;const q=U.weight,N=this.totalWeight,Z=q+N;if(this.averagePosition.lat=(this.averagePosition.lat*N+U.position.lat*q)/Z,this.averagePosition.lng=(this.averagePosition.lng*N+U.position.lng*q)/Z,++this.population,this.totalWeight=Z,U.category!==void 0)this.stats[U.category]=this.stats[U.category]+1||1}Reset(){if(this.hashCode=1,this.lastMarker=void 0,this.population=0,this.totalWeight=0,this.stats=[0,0,0,0,0,0,0,0],C0.ENABLE_MARKERS_LIST)this._clusterMarkers=[]}ComputeBounds(U){let H=U.Project(+this.position.lat,+this.position.lng),q=U.Size,N=Math.floor(H.x/q),Z=Math.floor(H.y/q),w=N*q,A=Z*q,O=U.UnProject(w,A),v=U.UnProject(w+q,A+q);this.bounds={minLat:v.lat,maxLat:O.lat,minLng:O.lng,maxLng:v.lng}}GetClusterMarkers(){return this._clusterMarkers}ApplyCluster(U){if(this.hashCode=this.hashCode*41+U.hashCode*43,this.hashCode>f0)this.hashCode=this.hashCode=f0;let H=U.totalWeight,q=this.totalWeight,N=H+q;this.averagePosition.lat=(this.averagePosition.lat*q+U.averagePosition.lat*H)/N,this.averagePosition.lng=(this.averagePosition.lng*q+U.averagePosition.lng*H)/N,this.population+=U.population,this.totalWeight=N,this.bounds.minLat=Math.min(this.bounds.minLat,U.bounds.minLat),this.bounds.minLng=Math.min(this.bounds.minLng,U.bounds.minLng),this.bounds.maxLat=Math.max(this.bounds.maxLat,U.bounds.maxLat),this.bounds.maxLng=Math.max(this.bounds.maxLng,U.bounds.maxLng);for(let Z in U.stats)if(U.stats.hasOwnProperty(Z))if(this.stats.hasOwnProperty(Z))this.stats[Z]+=U.stats[Z];else this.stats[Z]=U.stats[Z];if(C0.ENABLE_MARKERS_LIST)this._clusterMarkers=this._clusterMarkers.concat(U.GetClusterMarkers())}}class j9{category;weight;filtered;_removeFlag=!1;position;data;hashCode;constructor(U,H,q={},N,Z=1,w=!1){this.position={lat:U,lng:H},this.data=q,this.weight=Z,this.category=N||0,this.filtered=w,this.hashCode=k9.getHashCode()}Move(U,H){this.position.lat=+U,this.position.lng=+H}SetData(U){for(let H in U)this.data[H]=U[H]}}var w0=h9(N8(),1);class kQ extends w0.Layer{_2PI=Math.PI*2;_circleFootSeparation=25;_circleStartAngle=Math.PI/6;_spiralFootSeparation=28;_spiralLengthStart=11;_spiralLengthFactor=5;_spiralCountTrigger=8;spiderfyDistanceMultiplier=1;_cluster;_currentMarkers=[];_lines=w0.polyline([],{weight:1.5,color:"#222"});_currentCenter;_clusterMarker;constructor(U){super();this._cluster=U}onAdd(U){return this._map=U,U.on("overlappingmarkers",this.spiderfy.bind(this)),U.on("click",this.unspiderfy.bind(this)),U.on("zoomend",this.unspiderfy.bind(this)),this}onRemove(U){return this.unspiderfy(),U.off("overlappingmarkers",this.spiderfy.bind(this)),U.off("click",this.unspiderfy.bind(this)),U.off("zoomend",this.unspiderfy.bind(this)),this}spiderfy(U){if(U.cluster!==this._cluster)return;this.unspiderfy();const H=U.markers.filter((O)=>!O.filtered);this._currentCenter=U.center;const q=this._map.latLngToLayerPoint(U.center),N=H.length>=this._spiralCountTrigger?this._generatePointsSpiral(H.length,q):this._generatePointsCircle(H.length,q),Z=[],w=[],A=[];if(N.forEach((O,v)=>{const T=this._map.layerPointToLatLng(O),x=this._cluster.BuildLeafletMarker(H[v],U.center).setZIndexOffset(5000).setOpacity(0);this._currentMarkers.push(x),this._map.addLayer(x),Z.push(x),w.push(T),A.push([U.center,T])}),setTimeout(()=>{Z.forEach((O,v)=>{O.setLatLng(w[v]).setOpacity(1)}),this._animateLines(A)},1),U.marker)this._clusterMarker=U.marker.setOpacity(0.3)}_generatePointsCircle(U,H){const N=this.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+U)/this._2PI,Z=this._2PI/U;return Array.from({length:U},(w,A)=>{const O=this._circleStartAngle+A*Z;return new w0.Point(Math.round(H.x+N*Math.cos(O)),Math.round(H.y+N*Math.sin(O)))})}_generatePointsSpiral(U,H){let q=this.spiderfyDistanceMultiplier*this._spiralLengthStart;const N=this.spiderfyDistanceMultiplier*this._spiralFootSeparation,Z=this.spiderfyDistanceMultiplier*this._spiralLengthFactor;let w=0;return Array.from({length:U},(A,O)=>{w+=N/q+O*0.0005;const v=new w0.Point(Math.round(H.x+q*Math.cos(w)),Math.round(H.y+q*Math.sin(w)));return q+=this._2PI*Z/w,v})}_animateLines(U){const H=Date.now(),Z=setInterval(()=>{const w=Date.now()-H,A=Math.min(w/290,1),O=U.map(([v,T])=>{const x=T.lat-v.lat,V0=T.lng-v.lng;return[v,new w0.LatLng(v.lat+x*A,v.lng+V0*A)]});if(this._lines.setLatLngs(O),A===1)clearInterval(Z)},42);this._map.addLayer(this._lines)}unspiderfy(){if(this._currentMarkers.length===0)return;if(this._currentMarkers.forEach((U)=>{U.setLatLng(this._currentCenter).setOpacity(0)}),setTimeout(()=>{this._currentMarkers.forEach((U)=>{this._map.removeLayer(U)}),this._currentMarkers=[]},300),this._map.removeLayer(this._lines),this._clusterMarker)this._clusterMarker.setOpacity(1)}}class jQ extends P9{RegisterMarker(U){if(U._removeFlag)delete U._removeFlag;this._markers.push(U),this._nbChanges+=1}RegisterMarkers(U){U.forEach((H)=>this.RegisterMarker(H))}RemoveMarkers(U){if(!U){this._markers=[];return}U.forEach((H)=>H._removeFlag=!0),this._markers=this._markers.filter((H)=>!H._removeFlag)}ProcessView(U){this.SortMarkers(),this.ResetClusterViews();const H=Math.abs(U.maxLat-U.minLat)*this.ViewPadding,q=Math.abs(U.maxLng-U.minLng)*this.ViewPadding,N={minLat:U.minLat-H,maxLat:U.maxLat+H,minLng:U.minLng-q,maxLng:U.maxLng+q},Z=[],w=[];for(let A of this._markers){const O=A.position;if(O.lng>N.maxLng||O.lng<N.minLng||O.lat>N.maxLat||O.lat<N.minLat)continue;let v=!1;for(let T of w)if(T.position.lat===O.lat&&T.position.lng===O.lng||hQ(O,T.bounds)){T.AddMarker(A),v=!0;break}if(!v){const T=new C0(A);T.ComputeBounds(this),Z.push(T),w.push(T)}}return this._clusters=Z.filter((A)=>A.population>0),this.SortClusters(),this._clusters}FindMarkersInArea(U){return this._markers.filter((H)=>!H.filtered&&hQ(H.position,U))}ComputeBounds(U,H=!0){return Z8(U,H)}FindMarkersBoundsInArea(U){return this.ComputeBounds(this.FindMarkersInArea(U))}ComputeGlobalBounds(U=!0){return this.ComputeBounds(this._markers,U)}GetMarkers(){return this._markers}GetPopulation(){return this._markers.length}ResetClusters(){this._clusters=[]}}var g=h9(N8(),1);class L9 extends g.Layer{Cluster;spiderfier;_objectsOnMap;_map;_moveInProgress;_zoomInProgress;_hardMove;_resetIcons;_removeTimeoutId;_markersRemoveListTimeout;clusterMargin;constructor(U=120,H=20){super();this.Cluster=new jQ,this.Cluster.Size=U,this.clusterMargin=Math.min(H,U/4),this.Cluster.Project=(q,N)=>{if(!this._map)throw new Error("Map is not defined");return this._map.project(new g.LatLng(q,N),Math.floor(this._map.getZoom()))},this.Cluster.UnProject=(q,N)=>this._map.unproject(new g.Point(q,N),Math.floor(this._map.getZoom())),this.clusterMargin=Math.min(H,U/4),this._objectsOnMap=[],this.spiderfier=new kQ(this),this._hardMove=!1,this._resetIcons=!1,this._removeTimeoutId=0,this._markersRemoveListTimeout=[],this._moveInProgress=!1,this._zoomInProgress=!1,this._map=null}onAdd(U){return this._map=U,this.Cluster.Project=(H,q)=>this._map.project(new g.LatLng(H,q),Math.floor(this._map.getZoom())),this.Cluster.UnProject=(H,q)=>this._map.unproject(new g.Point(H,q),Math.floor(this._map.getZoom())),U.on("movestart",this._moveStart.bind(this),this),U.on("moveend",this._moveEnd.bind(this),this),U.on("zoomstart",this._zoomStart.bind(this),this),U.on("zoomend",this._zoomEnd.bind(this),this),this.ProcessView(),U.addLayer(this.spiderfier),this}onRemove(U){return U.off("movestart",this._moveStart,this),U.off("moveend",this._moveEnd,this),U.off("zoomstart",this._zoomStart,this),U.off("zoomend",this._zoomEnd,this),this._objectsOnMap.forEach((H)=>U.removeLayer(H.data._leafletMarker)),this._objectsOnMap=[],this.Cluster.ResetClusters(),U.removeLayer(this.spiderfier),this._map=null,this}RegisterMarker(U){this.Cluster.RegisterMarker(U)}RegisterMarkers(U){this.Cluster.RegisterMarkers(U)}RemoveMarkers(U){this.Cluster.RemoveMarkers(U)}BuildLeafletCluster(U,H){const q=new g.Marker(H,{icon:this.BuildLeafletClusterIcon(U)});return q._leafletClusterBounds=U.bounds,q.on("click",()=>{const N=q._leafletClusterBounds;let Z=this.Cluster.FindMarkersInArea(N);const w=this.Cluster.ComputeBounds(Z);if(w){const V0=new g.LatLngBounds(new g.LatLng(w.minLat,w.maxLng),new g.LatLng(w.maxLat,w.minLng)),U0=this._map.getZoom();let h=this._map.getBoundsZoom(V0,!1,new g.Point(20,20));if(h===U0){var A=[];for(var O=0,v=this._objectsOnMap.length;O<v;++O){let r=this._objectsOnMap[O];if(r.data._leafletMarker!==q){if(r.bounds.minLat>=N.minLat&&r.bounds.maxLat<=N.maxLat&&r.bounds.minLng>=N.minLng&&r.bounds.maxLng<=N.maxLng)A.push(r.bounds)}}if(A.length>0){const r=[],b0=A.length;for(O=0,v=Z.length;O<v;++O){var T=Z[O].position,x=!1;for(let Z0=0;Z0<b0;++Z0){const s=A[Z0];if(T.lat>=s.minLat&&T.lat<=s.maxLat&&T.lng>=s.minLng&&T.lng<=s.maxLng){x=!0;break}}if(!x)r.push(Z[O])}Z=r}if(Z.length<200||h>=this._map.getMaxZoom())this._map.fire("overlappingmarkers",{cluster:this,markers:Z,center:q.getLatLng(),marker:q});else h++;this._map.setView(q.getLatLng(),h)}else this._map.fitBounds(V0)}}),q}BuildLeafletClusterIcon(U){let H="prunecluster prunecluster-",q=38;const N=this.Cluster.GetPopulation();if(U.population<Math.max(10,N*0.01))H+="small";else if(U.population<Math.max(100,N*0.05))H+="medium",q=40;else H+="large",q=44;return new g.DivIcon({html:`<div><span>${U.population}</span></div>`,className:H,iconSize:new g.Point(q,q)})}BuildLeafletMarker(U,H){const q=new g.Marker(H);return this.PrepareLeafletMarker(q,U.data,U.category),q}PrepareLeafletMarker(U,H,q){if(H.icon)U.setIcon(typeof H.icon==="function"?H.icon(H,q):H.icon);if(H.popup){const N=typeof H.popup==="function"?H.popup(H,q):H.popup;U.bindPopup(N,H.popupOptions)}}ProcessView(){let U,H,q;if(!this._map||this._zoomInProgress||this._moveInProgress)return;let N=this._map,Z=N.getBounds(),w=Math.floor(N.getZoom()),A=this.clusterMargin/this.Cluster.Size,O=this._resetIcons,v=Z.getSouthWest(),T=Z.getNorthEast(),x=this.Cluster.ProcessView({minLat:v.lat,minLng:v.lng,maxLat:T.lat,maxLng:T.lng}),V0=this._objectsOnMap,U0=[],h=new Array(V0.length);for(let I=0,b=V0.length;I<b;++I)q=V0[I].data._leafletMarker,h[I]=q,q._removeFromMap=!0;let r=[],b0=[],Z0=[],s=[];for(let I=0,b=x.length;I<b;++I){let F=x[I],e=F.data;U=(F.bounds.maxLat-F.bounds.minLat)*A,H=(F.bounds.maxLng-F.bounds.minLng)*A;for(let u=0,P=s.length;u<P;++u){let m=s[u];if(m.bounds.maxLng<F.bounds.minLng){s.splice(u,1),--u,--P;continue}let u0=m.averagePosition.lng+H,y=m.averagePosition.lat-U,F0=m.averagePosition.lat+U,n=F.averagePosition.lng-H,D0=F.averagePosition.lat-U,S=F.averagePosition.lat+U;if(u0>n&&F0>D0&&y<S){e._leafletCollision=!0,m.ApplyCluster(F);break}}if(!e._leafletCollision)s.push(F)}x.forEach((I)=>{let b=void 0,F=I.data;if(F._leafletCollision){F._leafletCollision=!1,F._leafletOldPopulation=0,F._leafletOldHashCode=0;return}let e=new g.LatLng(I.averagePosition.lat,I.averagePosition.lng),u=F._leafletMarker;if(u){let m=F._leafletOldPopulation!==void 0;if(I.population===1&&(m&&F._leafletOldPopulation===1)&&I.hashCode===u._hashCode){if(O||u._zoomLevel!==w||I.lastMarker.data.forceIconRedraw){if(this.PrepareLeafletMarker(u,I.lastMarker.data,I.lastMarker.category),I.lastMarker.data.forceIconRedraw)I.lastMarker.data.forceIconRedraw=!1}u.setLatLng(e),b=u}else if(F._leafletOldPopulation!==void 0&&(I.population>1&&F._leafletOldPopulation>1&&(u._zoomLevel===w||F._leafletPosition!==void 0&&F._leafletPosition.equals(e)))){if(u.setLatLng(e),O||I.population!=F._leafletOldPopulation||I.hashCode!==F._leafletOldHashCode){var P={};g.Util.extend(P,I.bounds),u._leafletClusterBounds=P,u.setIcon(this.BuildLeafletClusterIcon(I))}F._leafletOldPopulation=I.population,F._leafletOldHashCode=I.hashCode,b=u}}if(!b){if(I.population===1)b0.push(I);else r.push(I);F._leafletPosition=e,F._leafletOldPopulation=I.population,F._leafletOldHashCode=I.hashCode}else b._removeFromMap=!1,U0.push(I),b._zoomLevel=w,b._hashCode=I.hashCode,b._population=I.population,F._leafletMarker=b,F._leafletPosition=e}),r=b0.concat(r);let g0;for(let I=0,b=V0.length;I<b;++I){let F=V0[I],e=F.data;if(q=e._leafletMarker,e._leafletMarker&&e._leafletMarker._removeFromMap){let u=!0;if(q&&q._zoomLevel===w){let P=F.averagePosition;U=(F.bounds.maxLat-F.bounds.minLat)*A,H=(F.bounds.maxLng-F.bounds.minLng)*A;for(let m=0,u0=r.length;m<u0;++m){let y=r[m],F0=y.data;if(q._population===1&&y.population===1&&q._hashCode===y.hashCode){if(O||y.lastMarker.data.forceIconRedraw){if(this.PrepareLeafletMarker(q,y.lastMarker.data,y.lastMarker.category),y.lastMarker.data.forceIconRedraw)y.lastMarker.data.forceIconRedraw=!1}q.setLatLng(F0._leafletPosition),u=!1}else{let n=y.averagePosition,D0=P.lng-H,S=n.lng+H,a0,M,d,K0,J0;if(g0=P.lng+H,a0=P.lat-U,M=P.lat+U,d=n.lng-H,K0=n.lat-U,J0=n.lat+U,q._population>1&&y.population>1&&(g0>d&&D0<S&&M>K0&&a0<J0)){q.setLatLng(F0._leafletPosition),q.setIcon(this.BuildLeafletClusterIcon(y));let l={};g.Util.extend(l,y.bounds),q._leafletClusterBounds=l,F0._leafletOldPopulation=y.population,F0._leafletOldHashCode=y.hashCode,q._population=y.population,u=!1}}if(!u){F0._leafletMarker=q,q._removeFromMap=!1,U0.push(y),r.splice(m,1),--m,--u0;break}}}if(u){if(!q._removeFromMap)console.error("wtf")}}}for(let I=0,b=r.length;I<b;++I){let F=r[I],e=F.data,u=e._leafletPosition,P;if(F.population===1)P=this.BuildLeafletMarker(F.lastMarker,u);else P=this.BuildLeafletCluster(F,u);P.addTo(N),P.setOpacity(0),Z0.push(P),e._leafletMarker=P,P._zoomLevel=w,P._hashCode=F.hashCode,P._population=F.population,U0.push(F)}if(window.setTimeout(()=>{for(let b=0,F=Z0.length;b<F;++b){var I=Z0[b];if(I._icon)g.DomUtil.addClass(I._icon,"prunecluster-anim");if(I._shadow)g.DomUtil.addClass(I._shadow,"prunecluster-anim");I.setOpacity(1)}},1),this._hardMove){for(let I=0,b=h.length;I<b;++I)if(q=h[I],q._removeFromMap)N.removeLayer(q)}else{if(this._removeTimeoutId!==0){window.clearTimeout(this._removeTimeoutId);for(let I=0,b=this._markersRemoveListTimeout.length;I<b;++I)N.removeLayer(this._markersRemoveListTimeout[I])}var E0=[];for(let I=0,b=h.length;I<b;++I)if(q=h[I],q._removeFromMap)q.setOpacity(0),E0.push(q);if(E0.length>0)this._removeTimeoutId=window.setTimeout(()=>{for(let I=0,b=E0.length;I<b;++I)N.removeLayer(E0[I]);this._removeTimeoutId=0},300);this._markersRemoveListTimeout=E0}this._objectsOnMap=U0,this._hardMove=!1,this._resetIcons=!1}FitBounds(U=!0){const H=this.Cluster.ComputeGlobalBounds(U);if(H)this._map.fitBounds(new g.LatLngBounds(new g.LatLng(H.minLat,H.maxLng),new g.LatLng(H.maxLat,H.minLng)))}RedrawIcons(U=!0){if(this._resetIcons=!0,U)this.ProcessView()}_moveStart=()=>{this._moveInProgress=!0};_moveEnd(U){this._moveInProgress=!1,this._hardMove=U?.hard||!1}_zoomStart=()=>{this._zoomInProgress=!0};_zoomEnd=()=>{this._zoomInProgress=!1,this.ProcessView()};GetMarkers(){return[]}}export{q7 as shouldUseInsertionSort,E8 as insertionSort,hQ as checkPositionInsideBounds,kQ as PruneClusterLeafletSpiderfier,L9 as PruneClusterForLeaflet,jQ as PruneCluster,f0 as MaxHashCodeValue,A8 as HashCodeCounter,Z8 as ComputeBounds,j9 as ClusterMarker,C0 as Cluster,I8 as AbstractCluster};
